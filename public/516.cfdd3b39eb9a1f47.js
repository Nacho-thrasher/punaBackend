"use strict";(self.webpackChunkplanetaPunaClient=self.webpackChunkplanetaPunaClient||[]).push([[516],{5516:(ti,E,d)=>{d.r(E),d.d(E,{ChildRoutesModule:()=>ei});var g=d(9808),p=d(5826),e=d(1223),h=d(5763);let G=(()=>{class o{constructor(t,n){this.usuarioService=t,this.router=n}canActivate(t,n){return console.log("admin guard",this.usuarioService.usuario),void 0===this.usuarioService.token||""===this.usuarioService.token?(this.router.navigateByUrl("/dashboard"),!1):"admin"===this.usuarioService.usuario.user_type.name||(this.router.navigateByUrl("/dashboard"),!1)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.i),e.LFG(p.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),D=(()=>{class o{constructor(){this.title="qr-reader",this.cameras=[],this.scannerEnabled=!1,this.results=[]}ngOnInit(){}openCamera(){console.log("openCamera")}camerasFoundHandler(t){this.cameras=t,this.selectCamera(this.cameras[0].label)}scanSuccessHandler(t){console.log("scaner result : ",t),this.results.unshift(t)}scanErrorHandler(t){console.log("scaner error : ",t)}selectCamera(t){this.cameras.forEach(n=>{n.label.includes(t)&&(this.myDevice=n,console.log("scaner camera ",n.label),this.scannerEnabled=!0)})}openDropdown(t){console.log("openDropdown",t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:26,vars:0,consts:[[1,"row","justify-content-center"],[1,"col-10","my-2","bg-prueba-1","text-center",3,"click"],[1,"contain",2,"cursor","pointer"],[1,"text-light"],[1,"col-10","my-2","bg-prueba-2","text-center"],[1,"contain"],[1,"col-10","my-2","bg-prueba-3","text-center"],[1,"col-10","my-2","bg-prueba-4","text-center"],[1,"col-10","my-2","bg-prueba-5","text-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.NdJ("click",function(){return n.openDropdown("registros")}),e.TgZ(2,"div",2),e.TgZ(3,"span",3),e.TgZ(4,"h1"),e._uU(5,"Registros"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"span",3),e.TgZ(9,"h1"),e._uU(10,"Promedio de servicio completo"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",6),e.TgZ(12,"div",5),e.TgZ(13,"span",3),e.TgZ(14,"h1"),e._uU(15,"Servicios"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",7),e.TgZ(17,"div",5),e.TgZ(18,"span",3),e.TgZ(19,"h1"),e._uU(20,"Comensales"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"div",5),e.TgZ(23,"span",3),e.TgZ(24,"h1"),e._uU(25,"Empresas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA())},styles:[".bg-prueba-1[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/hysmatafuegos/image/upload/v1661476364/puna/bbq-hamburger-double-border-above-260nw-1774860830_cpzeox.png);background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;height:20vh;border-radius:2em 0}.bg-prueba-2[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/hysmatafuegos/image/upload/v1661476365/puna/burger-banner-raw-ingredients-grilled-260nw-1769975306_wjq5yt.png);background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;height:20vh;border-radius:2em 0}.bg-prueba-3[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/hysmatafuegos/image/upload/v1661476365/puna/fresh-raw-salmon-steak-on-260nw-1946807518_gt8vsz.png);background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;height:20vh;border-radius:2em 0}.bg-prueba-4[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/hysmatafuegos/image/upload/v1661476364/puna/hamburger-french-fries-on-dark-260nw-739849564_vqgcdv.png);background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;height:20vh;border-radius:2em 0}.bg-prueba-5[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/hysmatafuegos/image/upload/v1661476364/puna/0299026ae1a0156e20f94b05c6079312_h6tsbc.jpg);background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;height:20vh;border-radius:2em 0}.contain[_ngcontent-%COMP%]{z-index:10;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000050;border-radius:2em 0;display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),o})(),M=(()=>{class o{constructor(t){this.usuarioService=t}ngOnInit(){this.cargarUsuarios()}cargarUsuarios(){this.usuarioService.cargarAllUsuarios().subscribe(t=>{console.log("entro",t),this.Usuario=t})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.i))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-perfil"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"perfil works!"),e.qZA())},styles:[""]}),o})();var c=d(1260),s=d(2382),v=d(2340),u=d(4004),q=d(520);const w=v.N.base_url;let b=(()=>{class o{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{authorization:this.token}}}cargarEmpresas(){return this.http.get(`${w}/company`,this.headers).pipe((0,u.U)(n=>(console.log("empresa service: ",n),n.empresas)))}empresaById(t){return this.http.get(`${w}/company/${t}`,this.headers).pipe((0,u.U)(i=>(console.log("empresa service: ",i),i.empresa)))}crearEmpresa(t){return this.http.post(`${w}/company`,t,this.headers).pipe((0,u.U)(i=>(console.log("empresa service: ",i),i.data)))}editarEmpresa(t,n){return this.http.put(`${w}/company/${n}`,t,this.headers).pipe((0,u.U)(a=>(console.log("empresa service: ",a),a.data)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=d(1447),k=d(5262);const J=["editTmpl"],S=["hdrTpl"],I=["myTable"],H=["myNgForm"];function Y(o,r){if(1&o&&(e.TgZ(0,"div",47),e.TgZ(1,"div",48),e.TgZ(2,"span",49),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.value;e.xp6(3),e.Oqu(t)}}function L(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function O(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",50),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empresa"),e.qZA()}}function R(o,r){if(1&o&&(e.TgZ(0,"a",51),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function Q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",50),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Descripcion"),e.qZA()}}function P(o,r){if(1&o&&(e.TgZ(0,"a",51),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function W(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",50),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Direccion"),e.qZA()}}function j(o,r){if(1&o&&(e.TgZ(0,"a",51),e._uU(1),e.qZA()),2&o){const t=r.row;e.xp6(1),e.AsE("",t.direction," ",t.city,"")}}function z(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",50),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cuit"),e.qZA()}}function B(o,r){if(1&o&&(e.TgZ(0,"a",51),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function V(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",50),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Contratista"),e.qZA()}}function X(o,r){if(1&o&&(e.TgZ(0,"a",51),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.name?t.name:"N/A")}}function K(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",52),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Editar"),e.qZA()}}function ee(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){const a=e.CHM(t).row;return e.oxw().editarEmpresa(a)}),e._UZ(1,"i",54),e.qZA()}}function te(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectEmpresa(a)}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," - cuit: ",t.cuit," ")}}function oe(o,r){if(1&o&&(e.TgZ(0,"div",55),e.TgZ(1,"ul",56),e.YNc(2,te,2,2,"li",57),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.empresasFilter)}}function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectEmpresa(a)}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," - cuit: ",t.cuit," ")}}function ie(o,r){if(1&o&&(e.TgZ(0,"div",55),e.TgZ(1,"ul",56),e.YNc(2,ne,2,2,"li",57),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.empresasFilter)}}let re=(()=>{class o{constructor(t,n,i,a,l){this.empresaService=t,this.route=n,this.router=i,this.sweetAlert2Helper=a,this.fb=l,this.empresas=[],this.empresasFilter=[],this.isLoad=!1,this.EmpresasSelected=[],this.rows=[],this.filteredData=[],this.columnsWithSearch=[],this.temp=[],this.cols=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.columnMode=c.hq,this.formSubmitted=!1,this.idSelected=null,this.formGroup=this.createFormGroup()}ngOnInit(){this.cargarEmpresas()}cargarEmpresas(){this.isLoad=!0,this.empresaService.cargarEmpresas().subscribe({next:t=>{this.empresas=t,0==this.empresas.length?setTimeout(()=>{this.temp=[],this.rows=[],this.filteredData=[],this.columnsWithSearch=Object.keys([]),this.loadingIndicator=!1},500):setTimeout(()=>{this.temp=[...this.empresas],this.rows=this.empresas,this.filteredData=[...this.empresas],this.columnsWithSearch=Object.keys(this.empresas[0]),this.loadingIndicator=!1},500)}})}createFormGroup(){const t=this.fb.group({name:["",[s.kI.required,s.kI.minLength(3)]],description:["",[s.kI.required,s.kI.minLength(3)]],city:["",s.kI.required],direction:["",s.kI.required],cuit:["",[s.kI.required,s.kI.minLength(3)]],contratista:["",s.kI.required],idContratista:["",s.kI.required]});return this.onFormGroupChanges(t),t}onFormGroupChanges(t){}crearEmpresa(){this.formGroup.valid&&(console.log("formGroup",this.formGroup.value),this.empresaService.crearEmpresa(this.formGroup.value).subscribe({next:t=>{this.sweetAlert2Helper.success("Empresa creada","La empresa ha sido creada con \xe9xito",()=>{},!1),this.cargarEmpresas(),this.formGroup.reset()}})),$("#crearEmpresa").modal("hide")}handlerChange(t){const n=t.target.value;n&&""!=n.trim()?(this.isLoad=!0,this.empresasFilter=this.empresas.filter(i=>i.name.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10)):(this.isLoad=!1,this.empresasFilter=this.empresas)}outsideFilter(t){this.isLoad=!1}selectEmpresa(t){var n,i;this.isLoad=!1,null===(n=this.formGroup.get("contratista"))||void 0===n||n.setValue(t.name),null===(i=this.formGroup.get("idContratista"))||void 0===i||i.setValue(t.uid)}editarEmpresa(t){this.formGroup.setValue({name:t.name,description:t.description,city:t.city,direction:t.direction,cuit:t.cuit,contratista:t.contratista.name||"",idContratista:t.contratista.uid||""}),this.idSelected=t.uid}submitEditarEmpresa(){this.formGroup.valid&&this.sweetAlert2Helper.question("\xbfEstas seguro?","\xbfEstas seguro de editar el registro?","Si, editar","No, cancelar",()=>{this.empresaService.editarEmpresa(this.formGroup.value,this.idSelected).subscribe({next:t=>{this.sweetAlert2Helper.success("Empresa editada","La empresa ha sido editada con \xe9xito",!1,!1),this.loadingIndicator=!0,this.cargarEmpresas(),this.formGroup.reset()},error:t=>{console.log(t)},complete:()=>{$("#modalEditarEmpresa").modal("hide")}})},!1)}resetForm(){this.formGroup.reset()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(p.gz),e.Y36(p.F0),e.Y36(A.r),e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-empresas"]],viewQuery:function(t,n){if(1&t&&(e.Gf(J,7),e.Gf(S,7),e.Gf(I,5),e.Gf(c.nE,5),e.Gf(H,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first),e.iGM(i=e.CRH())&&(n.myNgForm=i.first)}},decls:125,vars:28,consts:[[1,"row"],[1,"col-12","my-2"],["data-toggle","modal","data-target","#crearEmpresa","data-whatever","@empresa",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"col-12"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable"],["myTable","","tables",""],["nameSummaryCell",""],["name","Index",3,"minWidth","width","maxWidth"],["ngx-datatable-cell-template",""],["name","name",3,"width","flexGrow"],["ngx-datatable-header-template",""],["name","description",3,"width","flexGrow"],["name","",3,"width","flexGrow"],["name","cuit",3,"width","flexGrow"],["name","contratista",3,"width","flexGrow"],["name","",3,"flexGrow","maxWidth"],["id","crearEmpresa","tabindex","-1","role","dialog","aria-labelledby","crearEmpresaLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","crearEmpresaLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["id","formCrearComensal","autocomplete","off",3,"formGroup","ngSubmit"],["formCrearComensal","ngForm"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Nombre de Empresa",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description","placeholder","Descripcion de Empresa",1,"form-control"],["for","cuit"],["type","text","id","cuit","formControlName","cuit","placeholder","Cuit de Empresa",1,"form-control"],["for","direction"],["type","text","id","direction","formControlName","direction","placeholder","Direccion de Empresa",1,"form-control"],["for","city"],["type","text","id","city","formControlName","city","placeholder","Ciudad de Empresa",1,"form-control"],["for","recipient-name",1,"col-form-label"],["type","text","id","idContratista","formControlName","idContratista","hidden","",1,"form-control"],["type","text","id","empresa","formControlName","contratista",1,"form-control",3,"keyup","clickOutside"],["class","",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],["id","modalEditarEmpresa","tabindex","-1","role","dialog","aria-labelledby","modalEditarEmpresaLabel","aria-hidden","true",1,"modal","fade"],["id","modalEditarEmpresaLabel",1,"modal-title"],[1,"name-container"],[1,"chip"],[1,"chip-text"],[1,"cursor",3,"click"],[1,"sm-textTable","text-capitalize"],[1,"cursor","mobile-hidden",3,"click"],["data-toggle","modal","data-target","#modalEditarEmpresa",1,"btn","btn-primary","btn-sm",2,"cursor","pointer",3,"click"],[1,"fa","fa-edit"],[1,""],[1,"bg-light","my-1","p-2","border-radius","dropdown-search","list-unstiled"],["class","p-1 item-hover",3,"click",4,"ngFor","ngForOf"],[1,"p-1","item-hover",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return n.resetForm()}),e._UZ(3,"i",3),e._uU(4," Crear Empresa "),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"ngx-datatable",5,6),e.YNc(9,Y,4,1,"ng-template",null,7,e.W1O),e.TgZ(11,"ngx-datatable-column",8),e.YNc(12,L,2,1,"ng-template",9),e.qZA(),e.TgZ(13,"ngx-datatable-column",10),e.YNc(14,O,2,0,"ng-template",11),e.YNc(15,R,2,1,"ng-template",9),e.qZA(),e.TgZ(16,"ngx-datatable-column",12),e.YNc(17,Q,2,0,"ng-template",11),e.YNc(18,P,2,1,"ng-template",9),e.qZA(),e.TgZ(19,"ngx-datatable-column",13),e.YNc(20,W,2,0,"ng-template",11),e.YNc(21,j,2,2,"ng-template",9),e.qZA(),e.TgZ(22,"ngx-datatable-column",14),e.YNc(23,z,2,0,"ng-template",11),e.YNc(24,B,2,1,"ng-template",9),e.qZA(),e.TgZ(25,"ngx-datatable-column",15),e.YNc(26,V,2,0,"ng-template",11),e.YNc(27,X,2,1,"ng-template",9),e.qZA(),e.TgZ(28,"ngx-datatable-column",16),e.YNc(29,K,2,0,"ng-template",11),e.YNc(30,ee,2,0,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",17),e.TgZ(32,"div",18),e.TgZ(33,"div",19),e.TgZ(34,"div",20),e.TgZ(35,"h5",21),e._uU(36,"Crear Empresa"),e.qZA(),e.TgZ(37,"button",22),e.TgZ(38,"span",23),e._uU(39,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",24),e.TgZ(41,"form",25,26),e.NdJ("ngSubmit",function(){return n.crearEmpresa()}),e.TgZ(43,"div",27),e.TgZ(44,"label",28),e._uU(45,"Nombre"),e.qZA(),e._UZ(46,"input",29),e.qZA(),e.TgZ(47,"div",27),e.TgZ(48,"label",30),e._uU(49,"Descripcion"),e.qZA(),e._UZ(50,"input",31),e.qZA(),e.TgZ(51,"div",27),e.TgZ(52,"label",32),e._uU(53,"Cuit"),e.qZA(),e._UZ(54,"input",33),e.qZA(),e.TgZ(55,"div",27),e.TgZ(56,"label",34),e._uU(57,"Direccion"),e.qZA(),e._UZ(58,"input",35),e.qZA(),e.TgZ(59,"div",27),e.TgZ(60,"label",36),e._uU(61,"Ciudad"),e.qZA(),e._UZ(62,"input",37),e.qZA(),e.TgZ(63,"div",27),e.TgZ(64,"div",0),e.TgZ(65,"div",4),e.TgZ(66,"label",38),e._uU(67,"Empresa:"),e.qZA(),e.qZA(),e.TgZ(68,"div",4),e._UZ(69,"input",39),e.TgZ(70,"input",40),e.NdJ("keyup",function(a){return n.handlerChange(a)})("clickOutside",function(a){return n.outsideFilter(a)}),e.qZA(),e.qZA(),e.TgZ(71,"div",4),e.YNc(72,oe,3,1,"div",41),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(73,"div",42),e.TgZ(74,"button",43),e._uU(75,"Cerrar"),e.qZA(),e.TgZ(76,"button",44),e.NdJ("click",function(){return n.crearEmpresa()}),e._uU(77,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"div",45),e.TgZ(79,"div",18),e.TgZ(80,"div",19),e.TgZ(81,"div",20),e.TgZ(82,"h5",46),e._uU(83,"Editar Empresa"),e.qZA(),e.TgZ(84,"button",22),e.TgZ(85,"span",23),e._uU(86,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"div",24),e.TgZ(88,"form",25,26),e.NdJ("ngSubmit",function(){return n.submitEditarEmpresa()}),e.TgZ(90,"div",27),e.TgZ(91,"label",28),e._uU(92,"Nombre"),e.qZA(),e._UZ(93,"input",29),e.qZA(),e.TgZ(94,"div",27),e.TgZ(95,"label",30),e._uU(96,"Descripcion"),e.qZA(),e._UZ(97,"input",31),e.qZA(),e.TgZ(98,"div",27),e.TgZ(99,"label",32),e._uU(100,"Cuit"),e.qZA(),e._UZ(101,"input",33),e.qZA(),e.TgZ(102,"div",27),e.TgZ(103,"label",34),e._uU(104,"Direccion"),e.qZA(),e._UZ(105,"input",35),e.qZA(),e.TgZ(106,"div",27),e.TgZ(107,"label",36),e._uU(108,"Ciudad"),e.qZA(),e._UZ(109,"input",37),e.qZA(),e.TgZ(110,"div",27),e.TgZ(111,"div",0),e.TgZ(112,"div",4),e.TgZ(113,"label",38),e._uU(114,"Empresa:"),e.qZA(),e.qZA(),e.TgZ(115,"div",4),e._UZ(116,"input",39),e.TgZ(117,"input",40),e.NdJ("keyup",function(a){return n.handlerChange(a)})("clickOutside",function(a){return n.outsideFilter(a)}),e.qZA(),e.qZA(),e.TgZ(118,"div",4),e.YNc(119,ie,3,1,"div",41),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(120,"div",42),e.TgZ(121,"button",43),e._uU(122,"Cerrar"),e.qZA(),e.TgZ(123,"button",44),e.NdJ("click",function(){return n.submitEditarEmpresa()}),e._uU(124,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("columnMode",n.columnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",15)("reorderable",!0),e.xp6(5),e.Q6J("minWidth",60)("width",80)("maxWidth",50),e.xp6(2),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("flexGrow",1)("maxWidth",85),e.xp6(13),e.Q6J("formGroup",n.formGroup),e.xp6(31),e.Q6J("ngIf",n.isLoad),e.xp6(4),e.Q6J("disabled",!n.formGroup.valid),e.xp6(12),e.Q6J("formGroup",n.formGroup),e.xp6(31),e.Q6J("ngIf",n.isLoad),e.xp6(4),e.Q6J("disabled",!n.formGroup.valid))},directives:[c.nE,c.UC,c.vq,c.tk,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,k._,g.O5,g.sg],styles:[".list-unstiled[_ngcontent-%COMP%]{list-style:none}.border-radius[_ngcontent-%COMP%]{border-radius:.32em}.dropdown-search[_ngcontent-%COMP%]{z-index:1;position:absolute;border:solid #ced4da 1px;box-shadow:0 0 10px #0000001a}.item-hover[_ngcontent-%COMP%]{cursor:pointer;transition:all .1s ease-in-out;color:#646464}.item-hover[_ngcontent-%COMP%]:hover{background-color:#0169d9;border-radius:.32em;color:#fff}"]}),o})();const ae=["editTmpl"],se=["hdrTpl"],le=["myTable"];function ce(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectEmpresa(a)}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," - cuit: ",t.cuit," ")}}function me(o,r){if(1&o&&(e.TgZ(0,"div",51),e.TgZ(1,"ul",52),e.YNc(2,ce,2,2,"li",53),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.empresasFilter)}}function ue(o,r){1&o&&(e.TgZ(0,"div",51),e._uU(1," - "),e.qZA())}function pe(o,r){if(1&o&&e._UZ(0,"a",55),2&o){const t=r.expanded;e.ekj("datatable-icon-right",!t)("datatable-icon-down",t)}}function de(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function _e(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",56),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empleado"),e.qZA()}}const ge=function(o){return["/dashboard/usuario",o]};function he(o,r){if(1&o&&(e.TgZ(0,"a",57),e._uU(1),e.qZA()),2&o){const t=r.value;e.Q6J("routerLink",e.VKq(2,ge,r.row.uid)),e.xp6(1),e.hij(" ",t," ")}}function fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",56),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"CUIL"),e.qZA()}}function Ze(o,r){if(1&o&&(e.TgZ(0,"a",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t||"-"," ")}}function Te(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",56),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Tipo Doc."),e.qZA()}}function Ce(o,r){if(1&o&&(e.TgZ(0,"a",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t||"-"," ")}}function xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",56),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Documento"),e.qZA()}}function be(o,r){if(1&o&&(e.TgZ(0,"a",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t||"-"," ")}}function Ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",56),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Contratista"),e.qZA()}}function ve(o,r){if(1&o&&(e.TgZ(0,"a",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t.name?t.name:"-"," ")}}function qe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",56),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cuit"),e.qZA()}}function we(o,r){if(1&o&&(e.TgZ(0,"a",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t.cuit?t.cuit:"-"," ")}}let ke=(()=>{class o{constructor(t,n,i){this.usuarioService=t,this.empresaService=n,this.fb=i,this.rows=[],this.cols=[],this.temp=[],this.filteredData=[],this.columnsWithSearch=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.ColumnMode=c.hq,this.usuarios=[],this.UserType=[],this.empresas=[],this.empresasFilter=[],this.isLoad=!1,this.formSubmitted=!1,this.formGroup=this.createFormGroup()}createFormGroup(){const t=this.fb.group({empresaId:["",s.kI.required],empresa:["",s.kI.required],firstName:["",[s.kI.required,s.kI.minLength(3)]],lastName:["",[s.kI.required,s.kI.minLength(3)]],email:["",[s.kI.required,s.kI.email]],typeDocument:["",[s.kI.required]],document:["",[s.kI.required,s.kI.minLength(3)]],cuil:["",[s.kI.required,s.kI.minLength(3)]]});return this.onFormGroupChanges(t),t}onFormGroupChanges(t){var n;!t||null===(n=t.get("empresa"))||void 0===n||n.valueChanges.subscribe(i=>{var a;const l=this.empresas.find(m=>m.name.toLowerCase()===i);l&&(null===(a=this.formGroup.get("empresaId"))||void 0===a||a.setValue(l.uid))})}ngOnDestroy(){}ngOnInit(){this.cargarUsuarios(),this.cargarEmpresas(),this.cargarUserTypes()}cargarUsuarios(){this.usuarioService.cargarUsuariosByType("user").subscribe({next:t=>{this.usuarios=t,console.log("usuarios comensales: ",this.usuarios),setTimeout(()=>{this.temp=[...this.usuarios],this.rows=this.usuarios,this.filteredData=[...this.usuarios],this.columnsWithSearch=Object.keys(this.rows[0]),this.loadingIndicator=!1},500)},error:t=>{console.log(t)},complete:()=>{console.log("complete")}})}cargarUserTypes(){this.usuarioService.cargarUsersTypes().subscribe(t=>{console.log("entro type",t),this.UserType=t})}crearComensal(){const t=this.formGroup.value,n=this.UserType.find(i=>"user"===i.name);this.usuarioService.createUserWithCompany(t,t.empresaId,n.uid).subscribe({next:i=>{console.log("res: ",i),this.formGroup.reset(),this.formSubmitted=!1,this.cargarUsuarios()},error:i=>{console.log(i)},complete:()=>{console.log("complete"),$("#crearComensal").modal("hide")}})}crearComensalExcel(){console.log("crear comensal excel")}cargarEmpresas(){this.empresaService.cargarEmpresas().subscribe(t=>{this.empresas=t,this.empresasFilter=t})}handlerChange(t){const n=t.target.value;n&&""!=n.trim()?(this.isLoad=!0,this.empresasFilter=this.empresas.filter(i=>i.name.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10)):(this.empresasFilter=this.empresas,this.isLoad=!1)}selectEmpresa(t){var n,i;this.isLoad=!1,null===(n=this.formGroup.get("empresa"))||void 0===n||n.setValue(t.name),null===(i=this.formGroup.get("empresaId"))||void 0===i||i.setValue(t.uid)}submitted(){this.formSubmitted=!0,!this.formGroup.invalid&&this.crearComensal()}outsideFilter(t){this.isLoad=!1}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.i),e.Y36(b),e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-comensales"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ae,7),e.Gf(se,7),e.Gf(le,5),e.Gf(c.nE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first)}},decls:95,vars:37,consts:[[1,"row"],[1,"col-md-12","py-2"],["data-toggle","modal","data-target","#crearComensal","data-whatever","@comensal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"btn","btn-success","ml-2"],[1,"fa","fa-file"],["id","crearComensal","tabindex","-1","role","dialog","aria-labelledby","crearComensalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["id","formCrearComensal","autocomplete","off",3,"formGroup","ngSubmit"],["formCrearComensal","ngForm"],[1,"form-group"],["for","recipient-name",1,"col-form-label"],["type","text","id","empresaId","formControlName","empresaId","hidden","",1,"form-control"],["type","text","id","empresa","formControlName","empresa",1,"form-control",3,"keyup","clickOutside"],["class","",4,"ngIf"],[1,"col"],["for","message-text",1,"col-form-label"],["type","text","id","nombre","formControlName","firstName",1,"form-control"],["type","text","id","apellido","formControlName","lastName",1,"form-control"],["type","email","id","email","formControlName","email",1,"form-control"],["formControlName","typeDocument",1,"form-control"],["value","DNI"],["value","CUIT"],["value","CUIL"],["value","PASAPORTE"],["type","text","id","numeroDocumento","formControlName","document",1,"form-control"],["type","text","id","cuil","formControlName","cuil",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"col-12"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable"],["myTable","","tables",""],[3,"rowHeight"],["myDetailRow",""],["ngx-datatable-row-detail-template",""],[3,"width","minWidth","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["name","Nro",3,"minWidth","width"],["name","userName",3,"flexGrow","minWidth","width"],["ngx-datatable-header-template",""],["name","cuil",3,"flexGrow","minWidth","width"],["name","typeDocument",3,"flexGrow","minWidth","width"],["name","document",3,"flexGrow","minWidth","width"],["name","empresa",3,"flexGrow","minWidth","width"],[1,""],[1,"bg-light","my-1","p-2","border-radius","dropdown-search","list-unstiled"],["class","p-1 item-hover",3,"click",4,"ngFor","ngForOf"],[1,"p-1","item-hover",3,"click"],["href","javascript:void(0)","title","Expand/Collapse Row",1,""],[1,"cursor",3,"click"],[1,"sm-textTable",3,"routerLink"],[1,"sm-textTable"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e._UZ(3,"i",3),e._uU(4," Crear comensal "),e.qZA(),e.TgZ(5,"button",4),e._UZ(6,"i",5),e._uU(7," Crear comensal con excel "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"h5",10),e._uU(13,"Crear comensal"),e.qZA(),e.TgZ(14,"button",11),e.TgZ(15,"span",12),e._uU(16,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",13),e.TgZ(18,"form",14,15),e.NdJ("ngSubmit",function(){return n.crearComensal()}),e.TgZ(20,"div",16),e.TgZ(21,"label",17),e._uU(22,"Empresa:"),e.qZA(),e._UZ(23,"input",18),e.TgZ(24,"input",19),e.NdJ("keyup",function(a){return n.handlerChange(a)})("clickOutside",function(a){return n.outsideFilter(a)}),e.qZA(),e.YNc(25,me,3,1,"div",20),e.qZA(),e.TgZ(26,"div",16),e.TgZ(27,"div",0),e.TgZ(28,"div",21),e.TgZ(29,"label",22),e._uU(30,"Nombre:"),e.qZA(),e._UZ(31,"input",23),e.qZA(),e.TgZ(32,"div",21),e.TgZ(33,"label",22),e._uU(34,"Apellido:"),e.qZA(),e._UZ(35,"input",24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",16),e.TgZ(37,"label",22),e._uU(38,"Email:"),e.qZA(),e._UZ(39,"input",25),e.qZA(),e.TgZ(40,"div",16),e.TgZ(41,"label",22),e._uU(42,"Tipo de documento:"),e.qZA(),e.TgZ(43,"select",26),e.TgZ(44,"option",27),e._uU(45,"DNI"),e.qZA(),e.TgZ(46,"option",28),e._uU(47,"CUIT"),e.qZA(),e.TgZ(48,"option",29),e._uU(49,"CUIL"),e.qZA(),e.TgZ(50,"option",30),e._uU(51,"PASAPORTE"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"div",16),e.TgZ(53,"label",22),e._uU(54,"N\xfamero de documento:"),e.qZA(),e._UZ(55,"input",31),e.qZA(),e.TgZ(56,"div",16),e.TgZ(57,"label",22),e._uU(58,"CUIL:"),e.qZA(),e._UZ(59,"input",32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",33),e.TgZ(61,"button",34),e._uU(62,"Cerrar"),e.qZA(),e.TgZ(63,"button",35),e.NdJ("click",function(){return n.submitted()}),e._uU(64,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",0),e.TgZ(66,"div",36),e.TgZ(67,"ngx-datatable",37,38),e.TgZ(70,"ngx-datatable-row-detail",39,40),e.YNc(72,ue,2,0,"ng-template",41),e.qZA(),e.TgZ(73,"ngx-datatable-column",42),e.YNc(74,pe,1,4,"ng-template",43),e.qZA(),e.TgZ(75,"ngx-datatable-column",44),e.YNc(76,de,2,1,"ng-template",43),e.qZA(),e.TgZ(77,"ngx-datatable-column",45),e.YNc(78,_e,2,0,"ng-template",46),e.YNc(79,he,2,4,"ng-template",43),e.qZA(),e.TgZ(80,"ngx-datatable-column",47),e.YNc(81,fe,2,0,"ng-template",46),e.YNc(82,Ze,2,1,"ng-template",43),e.qZA(),e.TgZ(83,"ngx-datatable-column",48),e.YNc(84,Te,2,0,"ng-template",46),e.YNc(85,Ce,2,1,"ng-template",43),e.qZA(),e.TgZ(86,"ngx-datatable-column",49),e.YNc(87,xe,2,0,"ng-template",46),e.YNc(88,be,2,1,"ng-template",43),e.qZA(),e.TgZ(89,"ngx-datatable-column",50),e.YNc(90,Ae,2,0,"ng-template",46),e.YNc(91,ve,2,1,"ng-template",43),e.qZA(),e.TgZ(92,"ngx-datatable-column",50),e.YNc(93,qe,2,0,"ng-template",46),e.YNc(94,we,2,1,"ng-template",43),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(18),e.Q6J("formGroup",n.formGroup),e.xp6(7),e.Q6J("ngIf",n.isLoad),e.xp6(38),e.Q6J("disabled",!n.formGroup.valid),e.xp6(4),e.Q6J("columnMode",n.ColumnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",10)("reorderable",!0),e.xp6(3),e.Q6J("rowHeight",70),e.xp6(3),e.Q6J("width",100)("minWidth",10)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(2),e.Q6J("minWidth",10)("width",10),e.xp6(2),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,k._,g.O5,s.EJ,s.YN,s.Kr,c.nE,c.$7,c.AR,c.UC,c.vq,c.tk,g.sg,p.yS],styles:[".list-unstiled[_ngcontent-%COMP%]{list-style:none}.border-radius[_ngcontent-%COMP%]{border-radius:.32em}.dropdown-search[_ngcontent-%COMP%]{z-index:1;position:absolute;width:450px;border:solid #ced4da 1px;box-shadow:0 0 10px #0000001a}.item-hover[_ngcontent-%COMP%]{cursor:pointer;transition:all .1s ease-in-out;color:#646464}.item-hover[_ngcontent-%COMP%]:hover{background-color:#0169d9;border-radius:.32em;color:#fff}"]}),o})();const C=v.N.base_url;let U=(()=>{class o{constructor(t){this.http=t}cargarMenus(){return this.http.get(`${C}/menu`).pipe((0,u.U)(n=>(console.log("menu service: ",n),n.menus)))}listarBreakfast(){return this.http.get(`${C}/menu/type/breakfast`).pipe((0,u.U)(n=>(console.log("menu breakfast: ",n),n.breakfast)))}listarLunch(){return this.http.get(`${C}/menu/type/lunch`).pipe((0,u.U)(n=>(console.log("menu lunch: ",n),n.lunch)))}listarDinner(){return this.http.get(`${C}/menu/type/dinner`).pipe((0,u.U)(n=>(console.log("menu dinner: ",n),n.dinner)))}listarAfternoonSnack(){return this.http.get(`${C}/menu/type/afternoonSnack`).pipe((0,u.U)(n=>(console.log("menu afternoonSnack: ",n),n.afternoonSnack)))}actualizarMenu(t,n){return console.log("actualizado service: ",t),this.http.put(`${C}/menu/${n}`,t).pipe((0,u.U)(a=>(console.log("menu actualizado: ",a),a.updateMenu)))}crearPlato(t){return this.http.post(`${C}/menu/plato`,Object.assign({},t)).pipe((0,u.U)(i=>(console.log("plato creado: ",i),i.data)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const f=v.N.base_url;let x=(()=>{class o{constructor(t,n){this.http=t,this.usuarioService=n}crearRegistroDiario(t){return this.http.post(`${f}/registro-diario`,t).pipe((0,u.U)(i=>(console.log("registro diario service: ",i),i.registro)))}cargarAllRegistrosDiarios(t){return t?this.http.get(`${f}/registro-diario?all=true`).pipe((0,u.U)(i=>(console.log("registro diario service get all: ",i),i.registros))):this.http.get(`${f}/registro-diario`).pipe((0,u.U)(i=>(console.log("registro diario service get: ",i),i.registros)))}cargarRegistrosDiariosByCompany(t){return this.http.get(`${f}/registro-diario/company/${t}`).pipe((0,u.U)(i=>(console.log("registro diario service get: ",i),i.registros)))}cargarTotalesPorMeses(){return this.http.get(`${f}/totales`,{headers:{authorization:this.usuarioService.token}}).pipe((0,u.U)(a=>(console.log("registro diario service get: ",a),a.data)))}cargarTotalesPorMes(t){return this.http.get(`${f}/totales/${t}`,{headers:{authorization:this.usuarioService.token}}).pipe((0,u.U)(l=>(console.log("registro diario service get: ",l),l.data)))}cargarRegistrosDiariosEmpresaPorFecha(t,n,i){return this.http.get(`${f}/totales/${t}/${n}/${i}`,{headers:{authorization:this.usuarioService.token}}).pipe((0,u.U)(_=>(console.log("registro diario service get: ",_),_.data)))}cargarRegistrosPorFechaCompleta(t,n){return this.http.get(`${f}/totales/${t}/${n}`,{headers:{authorization:this.usuarioService.token}}).pipe((0,u.U)(m=>(console.log("registro diario service get visado: ",m),m.data)))}crearVisado(t){return this.http.post(`${f}/visado`,t).pipe((0,u.U)(i=>(console.log("registro diario service: ",i),i.visado)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q.eN),e.LFG(h.i))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const y=v.N.base_url;let F=(()=>{class o{constructor(t){this.http=t}cargarHorarios(){return this.http.get(`${y}/horarios-comida`).pipe((0,u.U)(n=>(console.log("horarios service get: ",n),n.data)))}actualizarHorario(t,n){return this.http.put(`${y}/horarios-comida/${n}`,t).pipe((0,u.U)(a=>(console.log("horarios service put: ",a),a.data)))}getCurrentTime(){return this.http.get(`${y}/horarios-comida/current-time`).pipe((0,u.U)(n=>(console.log("horarios service get: ",n),n.data)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(q.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ue(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Desayuno: ",t?null==t||null==t.breakfast?null:t.breakfast.dish:""," ")}}function ye(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Almuerzo: ",t?t.lunch.dish:""," ")}}function Ne(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Merienda: ",t?t.afternoonSnack.dish:""," ")}}function Ee(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Cena: ",t?t.dinner.dish:""," ")}}function Ge(o,r){if(1&o&&(e.TgZ(0,"div",29),e.TgZ(1,"div",30),e.TgZ(2,"div",7),e.TgZ(3,"h5",31),e._uU(4),e.qZA(),e.TgZ(5,"p",9),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"span"),e._uU(10),e.qZA(),e._UZ(11,"br"),e.YNc(12,Ue,2,1,"span",10),e.YNc(13,ye,2,1,"span",10),e.YNc(14,Ne,2,1,"span",10),e.YNc(15,Ee,2,1,"span",10),e.qZA(),e.qZA(),e.TgZ(16,"div",32),e.TgZ(17,"div",11),e.TgZ(18,"div",12),e._uU(19),e.qZA(),e.TgZ(20,"div",12),e._uU(21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.$implicit,n=r.index;e.xp6(4),e.Oqu(t.usuario.userName),e.xp6(3),e.hij(" Empresa: ",t.usuario.empresa.name," "),e.xp6(3),e.hij(" DNI: ",t.usuario.document," "),e.xp6(2),e.Q6J("ngIf",null==t||null==t.breakfast?null:t.breakfast.dish),e.xp6(1),e.Q6J("ngIf",null==t||null==t.lunch?null:t.lunch.dish),e.xp6(1),e.Q6J("ngIf",null==t||null==t.afternoonSnack?null:t.afternoonSnack.dish),e.xp6(1),e.Q6J("ngIf",null==t||null==t.dinner?null:t.dinner.dish),e.xp6(4),e.hij("Nro: ",n+1,""),e.xp6(2),e.hij("Fecha: ",t.date," ")}}function Fe(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" Desayuno: ",t.ultimoRegistroDiario?t.ultimoRegistroDiario.breakfast.dish:""," ")}}function De(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" Almuerzo: ",t.ultimoRegistroDiario?t.ultimoRegistroDiario.lunch.dish:""," ")}}function Me(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" Merienda: ",t.ultimoRegistroDiario?t.ultimoRegistroDiario.afternoonSnack.dish:""," ")}}function Je(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" Cena: ",t.ultimoRegistroDiario?t.ultimoRegistroDiario.dinner.dish:""," ")}}function Se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",12),e.TgZ(2,"div",11),e.TgZ(3,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(7)}),e._uU(4,"7"),e.qZA(),e.TgZ(5,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(8)}),e._uU(6,"8"),e.qZA(),e.TgZ(7,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(9)}),e._uU(8,"9"),e.qZA(),e.qZA(),e.TgZ(9,"div",11),e.TgZ(10,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(4)}),e._uU(11,"4"),e.qZA(),e.TgZ(12,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(5)}),e._uU(13,"5"),e.qZA(),e.TgZ(14,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(6)}),e._uU(15,"6"),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(1)}),e._uU(18,"1"),e.qZA(),e.TgZ(19,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(2)}),e._uU(20,"2"),e.qZA(),e.TgZ(21,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(3)}),e._uU(22,"3"),e.qZA(),e.qZA(),e.TgZ(23,"div",11),e.TgZ(24,"div",34),e._uU(25,"-"),e.qZA(),e.TgZ(26,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClick(0)}),e._uU(27,"0"),e.qZA(),e.TgZ(28,"div",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleBorrar()}),e._UZ(29,"i",35),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function Ie(o,r){if(1&o&&(e.TgZ(0,"div",36),e._UZ(1,"input",37),e.TgZ(2,"label",38),e._uU(3),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.uid),e.xp6(2),e.Oqu(t.type)}}let He=(()=>{class o{constructor(t,n,i,a,l){this.usuarioService=t,this.fb=n,this.menuService=i,this.registroDiarioService=a,this.horariosService=l,this.fechaHoy=(new Date).toLocaleDateString("es-AR",{weekday:"long",day:"numeric",month:"long"}),this.formSubmitted=!1,this.usuarios=[],this.usuarioComensal=null,this.menus=[],this.registrosDiarios=[],this.ultimoRegistroDiario=null,this.cantidadRegistrosDiarios=0,this.HoraComidaActual=null,this.typeDocument="dni",this.formGroup=this.createFormGroup()}ngOnInit(){this.cargarUsuarios(),this.cargarMenus(),this.cargarRegistrosDiarios(),this.cargarHoraComidaActual()}cargarUsuarios(){this.usuarioService.cargarUsuariosByType("user").subscribe({next:t=>{console.log("comensal usuarios: ",t),this.usuarios=t},error:t=>{console.log(t)},complete:()=>{console.log("complete")}})}cargarMenus(){this.menuService.cargarMenus().subscribe({next:t=>{console.log("menus: ",t),this.menus=t},error:t=>{console.log(t)},complete:()=>{console.log("complete")}})}cargarRegistrosDiarios(){this.registroDiarioService.cargarAllRegistrosDiarios().subscribe({next:t=>{this.ultimoRegistroDiario=t[t.length-1],this.cantidadRegistrosDiarios=t.length,this.registrosDiarios=t.filter(n=>n.uid!=t[t.length-1].uid)},error:t=>{console.log(t)},complete:()=>{console.log("complete")}})}createFormGroup(){const t=this.fb.group({nDocu:["",[s.kI.required,s.kI.minLength(3)]],tipo:["",[s.kI.required]]});return this.onFormGroupChanges(t),t}onFormGroupChanges(t){}registrarComensal(){var t,n,i;const a=null===(t=this.formGroup.get("nDocu"))||void 0===t?void 0:t.value,l=this.usuarios.find(m=>m.document==a.toString());if(l){this.usuarioComensal=l;const m={idUser:this.usuarioComensal.uid,idMenu:this.formGroup.value.tipo,idCompany:this.usuarioComensal.empresa.uid};console.log("mostrar args: ",m),this.registroDiarioService.crearRegistroDiario(m).subscribe({next:_=>{console.log("registro diario: ",_),this.formSubmitted=!0},error:_=>{console.log(_)},complete:()=>{this.cargarRegistrosDiarios()}}),null===(n=this.formGroup.get("nDocu"))||void 0===n||n.setValue(""),null===(i=this.formGroup.get("tipo"))||void 0===i||i.setValue("")}else console.log("no existe el usuario")}handleClick(t){var n,i;const l=(null===(n=this.formGroup.get("nDocu"))||void 0===n?void 0:n.value)+t;null===(i=this.formGroup.get("nDocu"))||void 0===i||i.setValue(l)}handleBorrar(){var t,n;const a=(null===(t=this.formGroup.get("nDocu"))||void 0===t?void 0:t.value).slice(0,-1);null===(n=this.formGroup.get("nDocu"))||void 0===n||n.setValue(a)}cargarHoraComidaActual(){this.horariosService.getCurrentTime().subscribe({next:t=>{console.log("time: ",t),this.HoraComidaActual=t}})}cambiarTypeDocument(t){var n;"dni"==t?(null===(n=this.formGroup.get("nDocu"))||void 0===n||n.setValidators([s.kI.required,s.kI.minLength(3)]),this.typeDocument="dni"):"pasaporte"==t&&(this.typeDocument="pasaporte")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.i),e.Y36(s.qu),e.Y36(U),e.Y36(x),e.Y36(F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registrar-comensales"]],decls:54,vars:17,consts:[[1,"row","p-1"],[1,"col-8","border-radius","p-2"],[1,"text-capitalize"],[1,"row","row-cols-1","row-cols-md-3"],["class","col mb-4",4,"ngFor","ngForOf"],[1,"col-4","border-radius","p-2"],[1,"card","border-radius"],[1,"card-body"],[1,"card-title","py-2"],[1,"card-text"],[4,"ngIf"],[1,"row"],[1,"col"],["id","formDni","autocomplete","off",3,"formGroup","ngSubmit"],["formDni","ngForm"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","text-uppercase"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["disabled","",1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],["type","text","placeholder","Ingrese Documento","aria-label","Username","aria-describedby","basic-addon1","formControlName","nDocu",1,"form-control"],["class","row",4,"ngIf"],[1,"col","text-center","p-2","m-1"],["class","form-check form-check-inline",4,"ngFor","ngForOf"],[1,"col-12"],["type","submit",1,"btn","btn-primary","btn-sm","float-left",3,"disabled"],[1,"fas","fa-check"],[1,"col","mb-4"],[1,"card","h-100"],[1,"card-title","text-capitalize"],[1,"card-footer"],[1,"col","bg-white","text-center","border","radius","p-1","m-1",3,"click"],[1,"col","bg-white","text-center","border","radius","p-1","m-1"],[1,"fas","fa-backspace"],[1,"form-check","form-check-inline"],["formControlName","tipo","type","radio","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label","text-capitalize"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.qZA(),e._UZ(4,"hr"),e.TgZ(5,"div",3),e.YNc(6,Ge,22,9,"div",4),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"h4",2),e._uU(9),e.qZA(),e._UZ(10,"hr"),e.TgZ(11,"div",6),e.TgZ(12,"div",7),e.TgZ(13,"h5",8),e._uU(14),e.qZA(),e.TgZ(15,"p",9),e.TgZ(16,"span"),e._uU(17),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"span"),e._uU(20),e.qZA(),e._UZ(21,"br"),e.YNc(22,Fe,2,1,"span",10),e.YNc(23,De,2,1,"span",10),e.YNc(24,Me,2,1,"span",10),e.YNc(25,Je,2,1,"span",10),e.qZA(),e._UZ(26,"hr"),e.TgZ(27,"div",11),e.TgZ(28,"div",12),e._uU(29),e.qZA(),e.TgZ(30,"div",12),e._uU(31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"form",13,14),e.NdJ("ngSubmit",function(){return n.registrarComensal()}),e.TgZ(34,"div",15),e.TgZ(35,"div",16),e.TgZ(36,"div",17),e.TgZ(37,"button",18),e._uU(38),e.qZA(),e.TgZ(39,"div",19),e.TgZ(40,"span",20),e.NdJ("click",function(){return n.cambiarTypeDocument("dni")}),e._uU(41,"DNI"),e.qZA(),e.TgZ(42,"span",21),e.NdJ("click",function(){return n.cambiarTypeDocument("pasaporte")}),e._uU(43,"Pasaporte"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(44,"input",22),e.qZA(),e.YNc(45,Se,30,0,"div",23),e.TgZ(46,"div",11),e.TgZ(47,"div",24),e.YNc(48,Ie,4,2,"div",25),e.qZA(),e.qZA(),e.TgZ(49,"div",11),e.TgZ(50,"div",26),e.TgZ(51,"button",27),e._UZ(52,"i",28),e._uU(53," Cargar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(null==n.HoraComidaActual?null:n.HoraComidaActual.tipo),e.xp6(3),e.Q6J("ngForOf",n.registrosDiarios),e.xp6(3),e.Oqu(n.fechaHoy),e.xp6(5),e.hij(" Nombre: ",n.ultimoRegistroDiario?n.ultimoRegistroDiario.usuario.userName:""," "),e.xp6(3),e.hij(" Empresa: ",n.ultimoRegistroDiario?n.ultimoRegistroDiario.usuario.empresa.name:""," "),e.xp6(3),e.hij(" DNI: ",n.ultimoRegistroDiario?n.ultimoRegistroDiario.usuario.document:""," "),e.xp6(2),e.Q6J("ngIf",null==n.ultimoRegistroDiario||null==n.ultimoRegistroDiario.breakfast?null:n.ultimoRegistroDiario.breakfast.dish),e.xp6(1),e.Q6J("ngIf",null==n.ultimoRegistroDiario||null==n.ultimoRegistroDiario.lunch?null:n.ultimoRegistroDiario.lunch.dish),e.xp6(1),e.Q6J("ngIf",null==n.ultimoRegistroDiario||null==n.ultimoRegistroDiario.afternoonSnack?null:n.ultimoRegistroDiario.afternoonSnack.dish),e.xp6(1),e.Q6J("ngIf",null==n.ultimoRegistroDiario||null==n.ultimoRegistroDiario.dinner?null:n.ultimoRegistroDiario.dinner.dish),e.xp6(4),e.hij("Nro: ",n.cantidadRegistrosDiarios,""),e.xp6(2),e.hij("Fecha: ",n.ultimoRegistroDiario?n.ultimoRegistroDiario.date:""," "),e.xp6(1),e.Q6J("formGroup",n.formGroup),e.xp6(6),e.hij(" ",n.typeDocument," "),e.xp6(7),e.Q6J("ngIf","dni"==n.typeDocument),e.xp6(3),e.Q6J("ngForOf",n.menus),e.xp6(3),e.Q6J("disabled",!n.formGroup.valid))},directives:[g.sg,g.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s._],styles:[".radius[_ngcontent-%COMP%]{border-radius:.32em;cursor:pointer;transition:all .1s ease-in-out}.radius[_ngcontent-%COMP%]:hover{border:1px solid #0169d9!important}"]}),o})();function Ye(o,r){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"h3",5),e._uU(4),e.qZA(),e.TgZ(5,"div",6),e.TgZ(6,"button",7),e._UZ(7,"i",8),e.qZA(),e.TgZ(8,"button",9),e._UZ(9,"i",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",11),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"div",12),e._uU(20),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.xp6(4),e.Oqu(t.type),e.xp6(8),e.hij(" Desayuno: ",t.breakfast.dish," "),e.xp6(2),e.hij(" Almuerzo: ",t.lunch.dish," "),e.xp6(2),e.hij(" Merienda: ",t.afternoonSnack.dish," "),e.xp6(2),e.hij(" Cena: ",t.dinner.dish," "),e.xp6(2),e.hij(" Fecha: ",t.date," ")}}let Le=(()=>{class o{constructor(t){this.menuService=t,this.menus=[],this.isLoad=!0}ngOnInit(){this.cargarMenus()}cargarMenus(){this.isLoad=!0,this.menuService.cargarMenus().subscribe(t=>{this.menus=t,this.isLoad=!1,console.log("menus: ",this.menus)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-menu-diario"]],decls:2,vars:1,consts:[[1,"row"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"],[1,"card"],[1,"card-header"],[1,"card-title","text-uppercase"],[1,"card-tools"],["type","button","data-card-widget","collapse","title","Collapse",1,"btn","btn-tool"],[1,"fas","fa-minus"],["type","button","data-card-widget","remove","title","Remove",1,"btn","btn-tool"],[1,"fas","fa-times"],[1,"card-body","text-capitalize"],[1,"card-footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ye,21,6,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.menus))},directives:[g.sg],styles:[""]}),o})();const Oe=function(o){return["/dashboard/promedios-diarios",o]};function Re(o,r){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.qZA()),2&o){const t=r.$implicit;e.Q6J("routerLink",e.VKq(2,Oe,t.uid)),e.xp6(2),e.Oqu(t.name)}}let Qe=(()=>{class o{constructor(t,n){this.empresaService=t,this.router=n,this.empresas=[],this.isLoad=!0}ngOnInit(){this.cargarEmpresas()}cargarEmpresas(){this.isLoad=!0,this.empresaService.cargarEmpresas().subscribe(t=>{this.empresas=t,this.isLoad=!1,console.log("empresas: ",this.empresas)})}selectEmpresa(t){console.log("empresa: ",t),this.router.navigate(["/promedios-diarios",t.uid])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(p.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-promedios-diarios"]],decls:2,vars:1,consts:[[1,"row"],["class","col-12 bg-cyan p-2 my-1 empresa-title",3,"routerLink",4,"ngFor","ngForOf"],[1,"col-12","bg-cyan","p-2","my-1","empresa-title",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Re,3,4,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.empresas))},directives:[g.sg,p.rH],styles:[".empresa-title[_ngcontent-%COMP%]{border:1px solid #14a2b8;cursor:pointer;transition:all .3s ease-in-out}.empresa-title[_ngcontent-%COMP%]:hover{background-color:#f0f8ff!important;color:#14a2b8!important;border:5px solid #14a2b8}"]}),o})();const Pe=["editTmpl"],We=["hdrTpl"],$e=["myTable"];function je(o,r){1&o&&(e.TgZ(0,"div",21),e._uU(1," - "),e.qZA())}function ze(o,r){if(1&o&&e._UZ(0,"a",22),2&o){const t=r.expanded;e.ekj("datatable-icon-right",!t)("datatable-icon-down",t)}}function Be(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Ve(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Fecha"),e.qZA()}}const Xe=function(o){return["/dashboard/usuario",o]};function Ke(o,r){if(1&o&&(e.TgZ(0,"a",24),e._uU(1),e.qZA()),2&o){const t=r.value;e.Q6J("routerLink",e.VKq(2,Xe,r.row.uid)),e.xp6(1),e.hij(" ",t," ")}}function et(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Desayuno"),e.qZA()}}function tt(o,r){if(1&o&&(e.TgZ(0,"a",25),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t," ")}}function ot(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Almuerzo"),e.qZA()}}function nt(o,r){if(1&o&&(e.TgZ(0,"a",25),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t," ")}}function it(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Merienda"),e.qZA()}}function rt(o,r){if(1&o&&(e.TgZ(0,"a",25),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t," ")}}function at(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cena"),e.qZA()}}function st(o,r){if(1&o&&(e.TgZ(0,"a",25),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t," ")}}function lt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Promedio"),e.qZA()}}function ct(o,r){if(1&o&&(e.TgZ(0,"a",25),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.hij(" ",t," ")}}let mt=(()=>{class o{constructor(t,n,i,a){this.empresaService=t,this.router=n,this.activatedRouter=i,this.registroDiarioService=a,this.empresaName="",this.registrosDiarios=[],this.registroDiariosJuntos=[],this.rows=[],this.cols=[],this.temp=[],this.filteredData=[],this.columnsWithSearch=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.ColumnMode=c.hq}ngOnInit(){this.activatedRouter.params.subscribe(t=>{console.log("params: ",t.id),this.registroDiarioService.cargarRegistrosDiariosByCompany(t.id).subscribe({next:n=>{this.registrosDiarios=n,this.empresaName=n[0].usuario.empresa.name,console.log("registrosDiarios: ",this.registrosDiarios),this.registroDiariosJuntos=this.registrosDiarios.reduce((i,a)=>{const l=i.find(m=>m.date===a.date);return l?l.registros.push(a):(console.log("curr.breakfast: ",l),i.push({date:a.date,registros:[a]})),i},[]),this.registroDiariosJuntos=this.registroDiariosJuntos.map(i=>{let a=0,l=0,m=0,_=0,T=0;return i.registros.length>0&&i.registros.forEach(Z=>{console.log("registro.breakfast: ",Z.breakfast),Object.keys(Z.breakfast).length>0&&a++,Object.keys(Z.lunch).length>0&&l++,Object.keys(Z.dinner).length>0&&m++,Object.keys(Z.afternoonSnack).length>0&&_++,T=a+l+m+_,T/=4}),{date:i.date,breakfast:a,lunch:l,dinner:m,afternoonSnack:_,total:T}}),console.log("registroDiariosJuntos: ",this.registroDiariosJuntos),setTimeout(()=>{this.temp=[...this.registroDiariosJuntos],this.rows=this.registroDiariosJuntos,this.filteredData=[...this.registroDiariosJuntos],this.columnsWithSearch=Object.keys(this.rows[0]),this.loadingIndicator=!1},500)},error:n=>{console.log("err: ",n)},complete:()=>{console.log("complete")}})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b),e.Y36(p.F0),e.Y36(p.gz),e.Y36(x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-promedi-diario-by-empresa"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Pe,7),e.Gf(We,7),e.Gf($e,5),e.Gf(c.nE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first)}},decls:40,vars:35,consts:[[1,"row"],[1,"col","mx-3"],[1,"text-center"],[1,"text-primary"],[1,"fas","fa-chart-bar"],[1,"col-12"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable"],["myTable","","tables",""],[3,"rowHeight"],["myDetailRow",""],["ngx-datatable-row-detail-template",""],[3,"width","minWidth","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["name","Nro",3,"minWidth","width"],["name","date",3,"flexGrow","minWidth","width"],["ngx-datatable-header-template",""],["name","breakfast",3,"flexGrow","minWidth","width"],["name","lunch",3,"flexGrow","minWidth","width"],["name","afternoonSnack",3,"flexGrow","minWidth","width"],["name","dinner",3,"flexGrow","minWidth","width"],["name","total",3,"flexGrow","minWidth","width"],[1,""],["href","javascript:void(0)","title","Expand/Collapse Row",1,""],[1,"cursor",3,"click"],[1,"sm-textTable",3,"routerLink"],[1,"sm-textTable"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"h5"),e.TgZ(6,"strong",2),e.TgZ(7,"span",3),e._UZ(8,"i",4),e.qZA(),e.TgZ(9,"span",3),e._uU(10," Promedio Diario por Empresa "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"ngx-datatable",6,7),e.TgZ(15,"ngx-datatable-row-detail",8,9),e.YNc(17,je,2,0,"ng-template",10),e.qZA(),e.TgZ(18,"ngx-datatable-column",11),e.YNc(19,ze,1,4,"ng-template",12),e.qZA(),e.TgZ(20,"ngx-datatable-column",13),e.YNc(21,Be,2,1,"ng-template",12),e.qZA(),e.TgZ(22,"ngx-datatable-column",14),e.YNc(23,Ve,2,0,"ng-template",15),e.YNc(24,Ke,2,4,"ng-template",12),e.qZA(),e.TgZ(25,"ngx-datatable-column",16),e.YNc(26,et,2,0,"ng-template",15),e.YNc(27,tt,2,1,"ng-template",12),e.qZA(),e.TgZ(28,"ngx-datatable-column",17),e.YNc(29,ot,2,0,"ng-template",15),e.YNc(30,nt,2,1,"ng-template",12),e.qZA(),e.TgZ(31,"ngx-datatable-column",18),e.YNc(32,it,2,0,"ng-template",15),e.YNc(33,rt,2,1,"ng-template",12),e.qZA(),e.TgZ(34,"ngx-datatable-column",19),e.YNc(35,at,2,0,"ng-template",15),e.YNc(36,st,2,1,"ng-template",12),e.qZA(),e.TgZ(37,"ngx-datatable-column",20),e.YNc(38,lt,2,0,"ng-template",15),e.YNc(39,ct,2,1,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(n.empresaName),e.xp6(8),e.Q6J("columnMode",n.ColumnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",10)("reorderable",!0),e.xp6(3),e.Q6J("rowHeight",70),e.xp6(3),e.Q6J("width",100)("minWidth",10)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(2),e.Q6J("minWidth",10)("width",10),e.xp6(2),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130),e.xp6(3),e.Q6J("flexGrow",1)("minWidth",95)("width",130))},directives:[c.nE,c.$7,c.AR,c.UC,c.vq,c.tk,p.yS],styles:[""]}),o})();const ut=["editTmpl"],pt=["hdrTpl"],dt=["myTable"],_t=["myNgForm"];function gt(o,r){}function ht(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"a",54),e.NdJ("click",function(){const a=e.CHM(t).row;return e.oxw().toggleExpandRow(a)}),e.qZA()}if(2&o){const t=r.expanded;e.ekj("datatable-icon-right",!t)("datatable-icon-down",t)}}function ft(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Zt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",55),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empleado "),e.qZA()}}function Tt(o,r){if(1&o&&(e.TgZ(0,"a",56),e._uU(1),e.qZA()),2&o){const t=r.value,n=r.row;e.xp6(1),e.AsE("",t," ",n.lastName,"")}}function Ct(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"T. Docu"),e.qZA()}}function xt(o,r){if(1&o&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function bt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Documento"),e.qZA()}}function At(o,r){if(1&o&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function vt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cuil"),e.qZA()}}function qt(o,r){if(1&o&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function wt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empresa"),e.qZA()}}function kt(o,r){if(1&o&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.name)}}function Ut(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cuit"),e.qZA()}}function yt(o,r){if(1&o&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.cuit)}}function Nt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Rol"),e.qZA()}}function Et(o,r){if(1&o&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&o){const t=r.row;e.xp6(1),e.Oqu(t.user_type.name)}}function Gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Eliminar"),e.qZA()}}function Ft(o,r){1&o&&(e.TgZ(0,"button",59),e._UZ(1,"i",60),e.qZA())}function Dt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Editar"),e.qZA()}}function Mt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){const a=e.CHM(t).row;return e.oxw().editarUsuario(a)}),e._UZ(1,"i",62),e.qZA()}}function Jt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",65),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectEmpresa(a)}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," - cuit: ",t.cuit," ")}}function St(o,r){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"ul",63),e.YNc(2,Jt,2,2,"li",64),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.empresasFilter)}}function It(o,r){if(1&o&&(e.TgZ(0,"option",66),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.uid),e.xp6(1),e.hij(" ","user"==t.name?"Comensal":t.name," ")}}function Ht(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",65),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectEmpresa(a)}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," - cuit: ",t.cuit," ")}}function Yt(o,r){if(1&o&&(e.TgZ(0,"div",2),e.TgZ(1,"ul",63),e.YNc(2,Ht,2,2,"li",64),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.empresasFilter)}}function Lt(o,r){if(1&o&&(e.TgZ(0,"option",66),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.uid),e.xp6(1),e.hij(" ","user"==t.name?"Comensal":t.name," ")}}let Ot=(()=>{class o{constructor(t,n,i,a){this.usuarioService=t,this.fb=n,this.empresaService=i,this.sweetAlert2Helper=a,this.Usuarios=[],this.Empresas=[],this.UserType=[],this.empresasFilter=[],this.isLoad=!1,this.rows=[],this.filteredData=[],this.columnsWithSearch=[],this.temp=[],this.cols=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.columnMode=c.hq,this.formSubmitted=!1,this.idSelected=null,this.formGroup=this.createFormGroup()}ngOnInit(){this.cargarUsuarios(),this.cargarEmpresas(),this.cargarUserTypes()}cargarUsuarios(){this.usuarioService.cargarAllUsuarios().subscribe(t=>{this.Usuarios=t,setTimeout(()=>{this.temp=[...this.Usuarios],this.rows=this.Usuarios,this.filteredData=[...this.Usuarios],this.columnsWithSearch=Object.keys(this.Usuarios[0]),this.loadingIndicator=!1},500)})}cargarEmpresas(){this.empresaService.cargarEmpresas().subscribe(t=>{console.log("entro",t),this.Empresas=t})}cargarUserTypes(){this.usuarioService.cargarUsersTypes().subscribe(t=>{console.log("entro type",t),this.UserType=t})}outsideFilter(t){this.isLoad=!1}createFormGroup(){const t=this.fb.group({firstName:["",[s.kI.required,s.kI.minLength(3)]],lastName:["",[s.kI.required,s.kI.minLength(3)]],empresaId:["",s.kI.required],empresa:["",s.kI.required],typeDocument:["",[s.kI.required]],document:["",[s.kI.required,s.kI.minLength(3)]],cuil:["",[s.kI.required,s.kI.minLength(3)]],typeUser:["",[s.kI.required]]});return this.onFormGroupChanges(t),t}onFormGroupChanges(t){var n;!t||null===(n=t.get("empresa"))||void 0===n||n.valueChanges.subscribe(i=>{var a;const l=this.Empresas.find(m=>m.name.toLowerCase()===i);l&&(null===(a=this.formGroup.get("empresaId"))||void 0===a||a.setValue(l.uid))})}handlerChange(t){const n=t.target.value;n&&""!=n.trim()?(this.isLoad=!0,this.empresasFilter=this.Empresas.filter(i=>i.name.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10)):(this.isLoad=!1,this.empresasFilter=this.Empresas)}selectEmpresa(t){var n,i;this.isLoad=!1,null===(n=this.formGroup.get("empresa"))||void 0===n||n.setValue(t.name),null===(i=this.formGroup.get("empresaId"))||void 0===i||i.setValue(t.uid)}submitted(){this.formSubmitted=!0,!this.formGroup.invalid&&(console.log(this.formGroup.value),this.usuarioService.createUserWithCompany(this.formGroup.value,this.formGroup.value.empresaId,this.formGroup.value.typeUser).subscribe({next:t=>{console.log("esto llego",t),this.formSubmitted=!1,this.formGroup.reset(),this.cargarUsuarios(),this.sweetAlert2Helper.success("Usuario creado correctamente","El usuario ha sido creado correctamente",()=>{},!1)},error:t=>{console.log(t)},complete:()=>{$("#crearUsuario").modal("hide")}}))}onDetailToggle(t){}toggleExpandRow(t){var n;null===(n=this.tables)||void 0===n||n.rowDetail.toggleExpandRow(t)}resetForm(){this.formGroup.reset()}editarUsuario(t){var n,i,a;console.log("editar",t),this.formGroup.setValue({firstName:t.firstName,lastName:t.lastName,empresaId:null===(n=t.empresa)||void 0===n?void 0:n.uid,empresa:null===(i=t.empresa)||void 0===i?void 0:i.name,typeDocument:t.typeDocument,document:t.document,cuil:t.cuil,typeUser:null===(a=t.user_type)||void 0===a?void 0:a.uid}),this.idSelected=t.uid}submittedEditar(){this.formGroup.valid&&this.sweetAlert2Helper.question("\xbfEstas seguro?","\xbfEstas seguro de editar el registro?","Si, editar","No, cancelar",()=>{this.usuarioService.actualizarUsuario(this.formGroup.value,this.idSelected).subscribe({next:t=>{this.loadingIndicator=!0,this.cargarUsuarios(),this.myNgForm.resetForm(),this.sweetAlert2Helper.success("Usuario editado correctamente","El usuario ha sido editado correctamente",!1,!1)},error:t=>{console.log(t)},complete:()=>{$("#modalEditarUsuario").modal("hide")}})},!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.i),e.Y36(s.qu),e.Y36(b),e.Y36(A.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-administrar-usuarios"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ut,7),e.Gf(pt,7),e.Gf(dt,5),e.Gf(c.nE,5),e.Gf(_t,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first),e.iGM(i=e.CRH())&&(n.myNgForm=i.first)}},decls:176,vars:43,consts:[[1,"row"],[1,"col-12"],[1,""],["data-toggle","modal","data-target","#crearUsuario",1,"btn","btn-primary","btn-flat",3,"click"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable"],["myTable","","tables",""],[3,"rowHeight","toggle"],["myDetailRow",""],["ngx-datatable-row-detail-template",""],[3,"width","minWidth","resizeable","sortable","draggable","canAutoResize"],["ngx-datatable-cell-template",""],["name","Index",3,"minWidth","width","maxWidth"],["name","firstName",3,"width","flexGrow"],["ngx-datatable-header-template",""],["name","typeDocument",3,"maxWidth","flexGrow"],["name","document",3,"width","flexGrow"],["name","cuil",3,"width","flexGrow"],["name","empresa",3,"width","flexGrow"],["name","user_type",3,"width","flexGrow"],["name","",3,"flexGrow","maxWidth"],["id","crearUsuario","tabindex","-1","role","dialog","aria-labelledby","crearUsuarioLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","crearUsuarioLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["id","formCrearComensal","autocomplete","off",3,"formGroup","ngSubmit"],["myNgForm","ngForm"],[1,"form-group"],["for","recipient-name",1,"col-form-label"],["type","text","id","empresaId","formControlName","empresaId","hidden","",1,"form-control"],["type","text","id","empresa","formControlName","empresa",1,"form-control",3,"keyup","clickOutside"],["class","",4,"ngIf"],[1,"col"],["for","message-text",1,"col-form-label"],["type","text","id","nombre","formControlName","firstName",1,"form-control"],["type","text","id","apellido","formControlName","lastName",1,"form-control"],["formControlName","typeDocument",1,"form-control"],["value",""],["value","DNI"],["value","CUIT"],["value","CUIL"],["value","PASAPORTE"],["type","text","id","numeroDocumento","formControlName","document",1,"form-control"],["type","text","id","cuil","formControlName","cuil",1,"form-control"],["formControlName","typeUser",1,"form-control"],["class","text-capitalize",3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],["id","modalEditarUsuario","tabindex","-1","role","dialog","aria-labelledby","modalEditarUsuarioLabel","aria-hidden","true",1,"modal","fade"],["id","modalEditarUsuarioLabel",1,"modal-title"],["href","javascript:void(0)","title","Expand/Collapse Row",1,"cursor",2,"text-decoration","none",3,"click"],[1,"cursor",3,"click"],[1,"sm-textTable"],[1,"cursor","mobile-hidden",3,"click"],[1,"mobile-hidden","sm-textTable"],[1,"btn","btn-danger","btn-sm",2,"cursor","pointer"],[1,"fa","fa-trash"],["data-toggle","modal","data-target","#modalEditarUsuario",1,"btn","btn-primary","btn-sm",2,"cursor","pointer",3,"click"],[1,"fa","fa-edit"],[1,"bg-light","my-1","p-2","border-radius","dropdown-search","list-unstiled"],["class","p-1 item-hover",3,"click",4,"ngFor","ngForOf"],[1,"p-1","item-hover",3,"click"],[1,"text-capitalize",3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return n.resetForm()}),e._uU(4," Crear Usuario "),e.qZA(),e.qZA(),e._UZ(5,"hr"),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"ngx-datatable",4,5),e.TgZ(10,"ngx-datatable-row-detail",6,7),e.NdJ("toggle",function(a){return n.onDetailToggle(a)}),e.YNc(12,gt,0,0,"ng-template",8),e.qZA(),e.TgZ(13,"ngx-datatable-column",9),e.YNc(14,ht,1,4,"ng-template",10),e.qZA(),e.TgZ(15,"ngx-datatable-column",11),e.YNc(16,ft,2,1,"ng-template",10),e.qZA(),e.TgZ(17,"ngx-datatable-column",12),e.YNc(18,Zt,2,0,"ng-template",13),e.YNc(19,Tt,2,2,"ng-template",10),e.qZA(),e.TgZ(20,"ngx-datatable-column",14),e.YNc(21,Ct,2,0,"ng-template",13),e.YNc(22,xt,2,1,"ng-template",10),e.qZA(),e.TgZ(23,"ngx-datatable-column",15),e.YNc(24,bt,2,0,"ng-template",13),e.YNc(25,At,2,1,"ng-template",10),e.qZA(),e.TgZ(26,"ngx-datatable-column",16),e.YNc(27,vt,2,0,"ng-template",13),e.YNc(28,qt,2,1,"ng-template",10),e.qZA(),e.TgZ(29,"ngx-datatable-column",17),e.YNc(30,wt,2,0,"ng-template",13),e.YNc(31,kt,2,1,"ng-template",10),e.qZA(),e.TgZ(32,"ngx-datatable-column",17),e.YNc(33,Ut,2,0,"ng-template",13),e.YNc(34,yt,2,1,"ng-template",10),e.qZA(),e.TgZ(35,"ngx-datatable-column",18),e.YNc(36,Nt,2,0,"ng-template",13),e.YNc(37,Et,2,1,"ng-template",10),e.qZA(),e.TgZ(38,"ngx-datatable-column",19),e.YNc(39,Gt,2,0,"ng-template",13),e.YNc(40,Ft,2,0,"ng-template",10),e.qZA(),e.TgZ(41,"ngx-datatable-column",19),e.YNc(42,Dt,2,0,"ng-template",13),e.YNc(43,Mt,2,0,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",20),e.TgZ(45,"div",21),e.TgZ(46,"div",22),e.TgZ(47,"div",23),e.TgZ(48,"h5",24),e._uU(49,"Crear Usuario"),e.qZA(),e.TgZ(50,"button",25),e.TgZ(51,"span",26),e._uU(52,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",27),e.TgZ(54,"form",28,29),e.NdJ("ngSubmit",function(){return n.submitted()}),e.TgZ(56,"div",30),e.TgZ(57,"div",0),e.TgZ(58,"div",1),e.TgZ(59,"label",31),e._uU(60,"Empresa:"),e.qZA(),e.qZA(),e.TgZ(61,"div",1),e._UZ(62,"input",32),e.TgZ(63,"input",33),e.NdJ("keyup",function(a){return n.handlerChange(a)})("clickOutside",function(a){return n.outsideFilter(a)}),e.qZA(),e.qZA(),e.TgZ(64,"div",1),e.YNc(65,St,3,1,"div",34),e.qZA(),e.qZA(),e.qZA(),e.TgZ(66,"div",30),e.TgZ(67,"div",0),e.TgZ(68,"div",35),e.TgZ(69,"label",36),e._uU(70,"Nombre:"),e.qZA(),e._UZ(71,"input",37),e.qZA(),e.TgZ(72,"div",35),e.TgZ(73,"label",36),e._uU(74,"Apellido:"),e.qZA(),e._UZ(75,"input",38),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",30),e.TgZ(77,"label",36),e._uU(78,"Tipo de documento:"),e.qZA(),e.TgZ(79,"select",39),e.TgZ(80,"option",40),e._uU(81,"Seleccione un tipo de documento"),e.qZA(),e.TgZ(82,"option",41),e._uU(83,"DNI"),e.qZA(),e.TgZ(84,"option",42),e._uU(85,"CUIT"),e.qZA(),e.TgZ(86,"option",43),e._uU(87,"CUIL"),e.qZA(),e.TgZ(88,"option",44),e._uU(89,"PASAPORTE"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(90,"div",30),e.TgZ(91,"label",36),e._uU(92,"N\xfamero de documento:"),e.qZA(),e._UZ(93,"input",45),e.qZA(),e.TgZ(94,"div",30),e.TgZ(95,"label",36),e._uU(96,"CUIL:"),e.qZA(),e._UZ(97,"input",46),e.qZA(),e.TgZ(98,"div",30),e.TgZ(99,"label",36),e._uU(100,"Tipo de Usuario:"),e.qZA(),e.TgZ(101,"select",47),e.TgZ(102,"option",40),e._uU(103,"Seleccione un tipo de Usuario"),e.qZA(),e.YNc(104,It,2,2,"option",48),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(105,"div",49),e.TgZ(106,"button",50),e._uU(107,"Cerrar"),e.qZA(),e.TgZ(108,"button",51),e.NdJ("click",function(){return n.submitted()}),e._uU(109,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(110,"div",52),e.TgZ(111,"div",21),e.TgZ(112,"div",22),e.TgZ(113,"div",23),e.TgZ(114,"h5",53),e._uU(115,"Editar Usuario"),e.qZA(),e.TgZ(116,"button",25),e.TgZ(117,"span",26),e._uU(118,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(119,"div",27),e.TgZ(120,"form",28,29),e.NdJ("ngSubmit",function(){return n.submittedEditar()}),e.TgZ(122,"div",30),e.TgZ(123,"div",0),e.TgZ(124,"div",1),e.TgZ(125,"label",31),e._uU(126,"Empresa:"),e.qZA(),e.qZA(),e.TgZ(127,"div",1),e._UZ(128,"input",32),e.TgZ(129,"input",33),e.NdJ("keyup",function(a){return n.handlerChange(a)})("clickOutside",function(a){return n.outsideFilter(a)}),e.qZA(),e.qZA(),e.TgZ(130,"div",1),e.YNc(131,Yt,3,1,"div",34),e.qZA(),e.qZA(),e.qZA(),e.TgZ(132,"div",30),e.TgZ(133,"div",0),e.TgZ(134,"div",35),e.TgZ(135,"label",36),e._uU(136,"Nombre:"),e.qZA(),e._UZ(137,"input",37),e.qZA(),e.TgZ(138,"div",35),e.TgZ(139,"label",36),e._uU(140,"Apellido:"),e.qZA(),e._UZ(141,"input",38),e.qZA(),e.qZA(),e.qZA(),e.TgZ(142,"div",30),e.TgZ(143,"label",36),e._uU(144,"Tipo de documento:"),e.qZA(),e.TgZ(145,"select",39),e.TgZ(146,"option",40),e._uU(147,"Seleccione un tipo de documento"),e.qZA(),e.TgZ(148,"option",41),e._uU(149,"DNI"),e.qZA(),e.TgZ(150,"option",42),e._uU(151,"CUIT"),e.qZA(),e.TgZ(152,"option",43),e._uU(153,"CUIL"),e.qZA(),e.TgZ(154,"option",44),e._uU(155,"PASAPORTE"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(156,"div",30),e.TgZ(157,"label",36),e._uU(158,"N\xfamero de documento:"),e.qZA(),e._UZ(159,"input",45),e.qZA(),e.TgZ(160,"div",30),e.TgZ(161,"label",36),e._uU(162,"CUIL:"),e.qZA(),e._UZ(163,"input",46),e.qZA(),e.TgZ(164,"div",30),e.TgZ(165,"label",36),e._uU(166,"Tipo de Usuario:"),e.qZA(),e.TgZ(167,"select",47),e.TgZ(168,"option",40),e._uU(169,"Seleccione un tipo de Usuario"),e.qZA(),e.YNc(170,Lt,2,2,"option",48),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(171,"div",49),e.TgZ(172,"button",50),e._uU(173,"Cerrar"),e.qZA(),e.TgZ(174,"button",51),e.NdJ("click",function(){return n.submittedEditar()}),e._uU(175,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Q6J("columnMode",n.columnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",10)("reorderable",!0),e.xp6(3),e.Q6J("rowHeight",120),e.xp6(3),e.Q6J("width",25)("minWidth",10)("resizeable",!1)("sortable",!1)("draggable",!1)("canAutoResize",!1),e.xp6(2),e.Q6J("minWidth",60)("width",80)("maxWidth",50),e.xp6(2),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("maxWidth",100)("flexGrow",1),e.xp6(3),e.Q6J("width",80)("flexGrow",1),e.xp6(3),e.Q6J("width",80)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",80)("flexGrow",1),e.xp6(3),e.Q6J("width",50)("flexGrow",1),e.xp6(3),e.Q6J("flexGrow",1)("maxWidth",85),e.xp6(3),e.Q6J("flexGrow",1)("maxWidth",85),e.xp6(13),e.Q6J("formGroup",n.formGroup),e.xp6(11),e.Q6J("ngIf",n.isLoad),e.xp6(39),e.Q6J("ngForOf",n.UserType),e.xp6(4),e.Q6J("disabled",!n.formGroup.valid),e.xp6(12),e.Q6J("formGroup",n.formGroup),e.xp6(11),e.Q6J("ngIf",n.isLoad),e.xp6(39),e.Q6J("ngForOf",n.UserType),e.xp6(4),e.Q6J("disabled",!n.formGroup.valid))},directives:[c.nE,c.$7,c.AR,c.UC,c.vq,c.tk,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,k._,g.O5,s.EJ,s.YN,s.Kr,g.sg],styles:[".list-unstiled[_ngcontent-%COMP%]{list-style:none}.border-radius[_ngcontent-%COMP%]{border-radius:.32em}.dropdown-search[_ngcontent-%COMP%]{z-index:1;position:absolute;border:solid #ced4da 1px;box-shadow:0 0 10px #0000001a}.item-hover[_ngcontent-%COMP%]{cursor:pointer;transition:all .1s ease-in-out;color:#646464}.item-hover[_ngcontent-%COMP%]:hover{background-color:#0169d9;border-radius:.32em;color:#fff}"]}),o})();var Rt=d(7579),Qt=d(9841),Pt=d(2722);const Wt=["myNgForm"],$t=["myNgForm2"],jt=["myNgForm3"];function zt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",61),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",62),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"button",63),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().editarHorario(a)}),e._UZ(11,"i",64),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.hij(" ",n+1," "),e.xp6(2),e.Oqu(t.horaInicio),e.xp6(2),e.Oqu(t.horaFin),e.xp6(2),e.Oqu(t.tipo)}}function Bt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",61),e._uU(2),e.qZA(),e.TgZ(3,"td",62),e._uU(4),e.qZA(),e.TgZ(5,"td",62),e._uU(6),e.qZA(),e.TgZ(7,"td",62),e._uU(8),e.qZA(),e.TgZ(9,"td",62),e._uU(10),e.qZA(),e.TgZ(11,"td",62),e._uU(12),e.qZA(),e.TgZ(13,"td",65),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"button",66),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().editarMenu(a)}),e._UZ(17,"i",64),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.hij(" ",n+1," "),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.breakfast.dish),e.xp6(2),e.Oqu(t.lunch.dish),e.xp6(2),e.Oqu(t.afternoonSnack.dish),e.xp6(2),e.Oqu(t.dinner.dish),e.xp6(2),e.Oqu(t.quantity?t.quantity:"-")}}function Vt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",70),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectDish(a,"breakfast")}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t.dish," ")}}function Xt(o,r){if(1&o&&(e.TgZ(0,"div",67),e.TgZ(1,"ul",68),e.YNc(2,Vt,2,1,"li",69),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.BreakfastFilter)}}function Kt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",70),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectDish(a,"lunch")}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t.dish," ")}}function eo(o,r){if(1&o&&(e.TgZ(0,"div",67),e.TgZ(1,"ul",68),e.YNc(2,Kt,2,1,"li",69),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.LunchFilter)}}function to(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",70),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectDish(a,"afternoonSnack")}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t.dish," ")}}function oo(o,r){if(1&o&&(e.TgZ(0,"div",67),e.TgZ(1,"ul",68),e.YNc(2,to,2,1,"li",69),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.AfternoonSnackFilter)}}function no(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",70),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectDish(a,"dinner")}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t.dish," ")}}function io(o,r){if(1&o&&(e.TgZ(0,"div",67),e.TgZ(1,"ul",68),e.YNc(2,no,2,1,"li",69),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.DinnerFilter)}}const ao=["editTmpl"],so=["hdrTpl"],lo=["myTable"];function co(o,r){}function mo(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function uo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Fecha "),e.qZA()}}function po(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function _o(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empleado "),e.qZA()}}function go(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.AsE("",t.firstName," ",t.lastName,"")}}function ho(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Documento "),e.qZA()}}function fo(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.AsE("",t.typeDocument,": ",t.document,"")}}function Zo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empresa "),e.qZA()}}function To(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.empresa.name)}}function Co(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Menu "),e.qZA()}}function xo(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.type)}}function bo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Desayuno "),e.qZA()}}function Ao(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.dish?t.dish:"-")}}function vo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Almuerzo "),e.qZA()}}function qo(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.lunch?t.lunch:"-")}}function wo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Merienda "),e.qZA()}}function ko(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.dish?t.dish:"-")}}function Uo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cena "),e.qZA()}}function yo(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.dish?t.dish:"-")}}const Eo=["editTmpl"],Go=["hdrTpl"],Fo=["myTable"],Do=["nameSummaryCell"];function Mo(o,r){if(1&o&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"span",16),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.value;e.xp6(3),e.Oqu(t)}}function Jo(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function So(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Mes"),e.qZA()}}const Io=function(o){return[o]};function Ho(o,r){if(1&o&&(e.TgZ(0,"a",18),e._uU(1),e.qZA()),2&o){const t=r.value;e.Q6J("routerLink",e.VKq(2,Io,r.row.mes.toLowerCase())),e.xp6(1),e.Oqu(t)}}function Yo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Desayuno"),e.qZA()}}function Lo(o,r){if(1&o&&(e.TgZ(0,"a",19),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function Oo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Almuerzo"),e.qZA()}}function Ro(o,r){if(1&o&&(e.TgZ(0,"a",19),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function Qo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Merienda"),e.qZA()}}function Po(o,r){if(1&o&&(e.TgZ(0,"a",19),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function Wo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cena"),e.qZA()}}function $o(o,r){if(1&o&&(e.TgZ(0,"a",19),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function jo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Promedio"),e.qZA()}}function zo(o,r){if(1&o&&(e.TgZ(0,"a",19),e._uU(1),e.qZA()),2&o){const t=r.row;e.xp6(1),e.Oqu(t.breakfast+t.lunch+t.afternoonSnack+t.dinner/4)}}const Vo=["editTmpl"],Xo=["hdrTpl"],Ko=["myTable"];function en(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function tn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Fecha"),e.qZA()}}const on=function(o){return[o]};function nn(o,r){if(1&o&&(e.TgZ(0,"a",14),e._uU(1),e.qZA()),2&o){const t=r.value;e.Q6J("routerLink",e.VKq(2,on,r.row.date.split("/")[0].toLowerCase())),e.xp6(1),e.Oqu(t)}}function rn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Desayuno"),e.qZA()}}function an(o,r){if(1&o&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function sn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Almuerzo"),e.qZA()}}function ln(o,r){if(1&o&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function cn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Merienda"),e.qZA()}}function mn(o,r){if(1&o&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function un(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cena"),e.qZA()}}function pn(o,r){if(1&o&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function dn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Promedio"),e.qZA()}}function _n(o,r){if(1&o&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&o){const t=r.row;e.xp6(1),e.Oqu(t.breakfast+t.lunch+t.afternoonSnack+t.dinner/4)}}const hn=["editTmpl"],fn=["hdrTpl"],Zn=["myTable"];function Tn(o,r){if(1&o&&(e.TgZ(0,"div",16),e.TgZ(1,"div",17),e.TgZ(2,"span",18),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.value;e.xp6(3),e.Oqu(t)}}function Cn(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function xn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empresa"),e.qZA()}}const bn=function(o){return[o]};function An(o,r){if(1&o&&(e.TgZ(0,"a",20),e._uU(1),e.qZA()),2&o){const t=r.value;e.Q6J("routerLink",e.VKq(2,bn,r.row.name.toLowerCase().split(" ").join("-"))),e.xp6(1),e.Oqu(t)}}function vn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Desc"),e.qZA()}}function qn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function wn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Ubicacion"),e.qZA()}}function kn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.row;e.xp6(1),e.AsE("",t.city," ",t.direction,"")}}function Un(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cuit"),e.qZA()}}function yn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function Nn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Visar"),e.qZA()}}function En(o,r){if(1&o&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.qZA()),2&o){const t=e.oxw().row;e.xp6(2),e.hij(" Fecha Registro: ",t.visado.fechaRegistro," "),e.xp6(2),e.hij(" Fecha Visado: ",t.visado.fechaVisado," "),e.xp6(3),e.hij(" Vis\xf3: ",t.visado.usuario.firstName," ")}}function Gn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().row;return e.oxw(2).visarRegistro(i)}),e._uU(1,"Visar"),e.qZA()}}function Fn(o,r){if(1&o&&(e.YNc(0,En,8,3,"div",23),e.YNc(1,Gn,2,0,"button",24)),2&o){const t=r.row;e.Q6J("ngIf",null!=t.visado),e.xp6(1),e.Q6J("ngIf",null==t.visado)}}function Dn(o,r){1&o&&(e.TgZ(0,"ngx-datatable-column",22),e.YNc(1,Nn,2,0,"ng-template",11),e.YNc(2,Fn,2,2,"ng-template",9),e.qZA()),2&o&&e.Q6J("width",100)("flexGrow",1)}const Jn=["editTmpl"],Sn=["hdrTpl"],In=["myTable"];function Hn(o,r){if(1&o&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"span",19),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&o){const t=r.value;e.xp6(3),e.Oqu(t)}}function Yn(o,r){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=r.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Ln(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",20),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Hora"),e.qZA()}}function On(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t)}}function Rn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",20),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Empleado"),e.qZA()}}function Qn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.AsE("",t.firstName," ",t.lastName,"")}}function Pn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",20),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Desayuno"),e.qZA()}}function Wn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.dish?"si":"no")}}function $n(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",20),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Almuerzo"),e.qZA()}}function jn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.dish?"si":"no")}}function zn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",20),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Merienda"),e.qZA()}}function Bn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.dish?"si":"no")}}function Vn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",20),e.NdJ("click",function(){return e.CHM(t).sortFn()}),e._uU(1,"Cena"),e.qZA()}}function Xn(o,r){if(1&o&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&o){const t=r.value;e.xp6(1),e.Oqu(t.dish?"si":"no")}}const Kn=[{path:"",component:D,data:{titulo:"Inicio"}},{path:"perfil",component:M,data:{titulo:"Perfil",content:"perfil"}},{path:"empresas",component:re,data:{titulo:"Empresas",content:"empresas"}},{path:"comensales",component:ke,data:{titulo:"Comensales",content:"comensales"}},{path:"registrar-comensales",component:He,data:{titulo:"Registrar Comensales",content:"registrar-comensales"}},{path:"menu-diario",component:Le,data:{titulo:"Menu Diario",content:"menu-diario"}},{path:"promedios-diarios",component:Qe,data:{titulo:"Promedios Diarios",content:"promedios-diarios"}},{path:"promedios-diarios/:id",component:mt,data:{titulo:"Promedios Diarios",content:"promedios-diarios"}},{path:"administrar-usuarios",canActivate:[G],component:Ot,data:{titulo:"Administrar Usuarios",content:"administrar-usuarios"}},{path:"configuraciones",canActivate:[G],component:(()=>{class o{constructor(t,n,i,a,l){this.usuarioService=t,this.horariosService=n,this.fb=i,this.sweetAlert2Helper=a,this.menuService=l,this.unsubscribe$=new Rt.x,this.Horarios=[],this.Menues=[],this.Breakfast=[],this.BreakfastFilter=[],this.AfternoonSnack=[],this.AfternoonSnackFilter=[],this.Dinner=[],this.DinnerFilter=[],this.Lunch=[],this.LunchFilter=[],this.isLoad=!1,this.isLoadBreakfast=!1,this.isLoadLunch=!1,this.isLoadAfternoonSnack=!1,this.isLoadDinner=!1,this.formSubmitted=!1,this.idSelected=null,this.idSelected2=null,this.idSelected3=null,this.usuario=this.usuarioService.usuario,this.formGroup=this.createFormGroup(),this.formGroup2=this.createFormGroup2(),this.formGroup3=this.createFormGroup3()}ngOnDestroy(){this.unsubscribe$.next(null),this.unsubscribe$.complete()}ngOnInit(){console.log(this.usuario),this.getData()}getData(){(0,Qt.a)([this.menuService.cargarMenus(),this.horariosService.cargarHorarios(),this.menuService.listarBreakfast(),this.menuService.listarLunch(),this.menuService.listarAfternoonSnack(),this.menuService.listarDinner()]).pipe((0,Pt.R)(this.unsubscribe$)).subscribe({next:([n,i,a,l,m,_])=>{this.Menues=n,this.Horarios=i,this.Breakfast=a,this.Lunch=l,this.AfternoonSnack=m,this.Dinner=_,this.isLoad=!0,this.isLoadBreakfast=!0,this.isLoadLunch=!0,this.isLoadAfternoonSnack=!0,this.isLoadDinner=!0}})}createFormGroup(){const t=this.fb.group({horaInicio:["",[s.kI.required]],horaFin:["",[s.kI.required]]});return this.onFormGroupChanges(t),t}createFormGroup2(){const t=this.fb.group({type:["",[s.kI.required]],breakfast:["",[s.kI.required]],breakfastId:["",[s.kI.required]],lunch:["",[s.kI.required]],lunchId:["",[s.kI.required]],dinner:["",[s.kI.required]],dinnerId:["",[s.kI.required]],afternoonSnack:["",[s.kI.required]],afternoonSnackId:["",[s.kI.required]],quantity:[""]});return this.onFormGroupChanges2(t),t}createFormGroup3(){const t=this.fb.group({type:["",[s.kI.required]],dish:["",[s.kI.required]]});return this.onFormGroupChanges3(t),t}onFormGroupChanges(t){}onFormGroupChanges2(t){}onFormGroupChanges3(t){}editarMenu(t){this.idSelected=t.uid,console.log(t);const n=this.Breakfast.find(m=>m.dish.toLowerCase()===t.breakfast.dish.toLowerCase()),i=this.Lunch.find(m=>m.dish.toLowerCase()===t.lunch.dish.toLowerCase()),a=this.AfternoonSnack.find(m=>m.dish.toLowerCase()===t.afternoonSnack.dish.toLowerCase()),l=this.Dinner.find(m=>m.dish.toLowerCase()===t.dinner.dish.toLowerCase());this.formGroup2.setValue({type:t.type,breakfast:n?n.dish:"",breakfastId:n?n.uid:"",lunch:i?i.dish:"",lunchId:i?i.uid:"",dinner:l?l.dish:"",dinnerId:l?l.uid:"",afternoonSnack:a?a.dish:"",afternoonSnackId:a?a.uid:"",quantity:t.quantity})}editarHorario(t){$("#modalEditarLabel").html(`Editar Horario ${t.tipo}`),this.formGroup.setValue({horaInicio:t.horaInicio,horaFin:t.horaFin}),this.idSelected=t.uid}submitted(){this.formGroup.valid&&this.sweetAlert2Helper.question("\xbfEstas seguro?","\xbfEstas seguro de editar el registro?","Si, editar","No, cancelar",()=>{this.horariosService.actualizarHorario(this.formGroup.value,this.idSelected).subscribe({next:t=>{console.log(t),this.formGroup.reset(),this.getData(),this.sweetAlert2Helper.success("Horario editado","El horario fue actualizado correctamente",()=>{},!1)},error:t=>{console.log(t)},complete:()=>{$("#modalEditar").modal("hide")}})},!1)}outsideFilter(t,n){switch(this.isLoad=!1,n){case"breakfast":this.isLoadBreakfast=!1;break;case"lunch":this.isLoadLunch=!1;break;case"afternoonSnack":this.isLoadAfternoonSnack=!1;break;case"dinner":this.isLoadDinner=!1}}handlerChangeBreakfast(t){const n=t.target.value;n&&""!=n.trim()?(this.isLoadBreakfast=!0,this.BreakfastFilter=this.Breakfast.filter(i=>i.dish.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10)):(this.isLoadBreakfast=!1,this.BreakfastFilter=this.Breakfast)}handlerChangeLunch(t){const n=t.target.value;n&&""!=n.trim()?(this.isLoadLunch=!0,this.LunchFilter=this.Lunch.filter(i=>i.dish.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10)):(this.isLoadLunch=!1,this.LunchFilter=this.Lunch)}handlerChangeDinner(t){const n=t.target.value;n&&""!=n.trim()?(this.isLoadDinner=!0,this.DinnerFilter=this.Dinner.filter(i=>i.dish.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10)):(this.isLoadDinner=!1,this.DinnerFilter=this.Dinner)}handlerChangeAfternoonSnack(t){const n=t.target.value;n&&""!=n.trim()?(this.isLoadAfternoonSnack=!0,this.AfternoonSnackFilter=this.AfternoonSnack.filter(i=>i.dish.toLowerCase().indexOf(n.toLowerCase())>-1).slice(0,10)):(this.isLoadAfternoonSnack=!1,this.AfternoonSnackFilter=this.AfternoonSnack)}selectDish(t,n){var i,a,l,m,_,T,Z,N;switch(console.log(t,n),n){case"breakfast":null===(i=this.formGroup2.get("breakfast"))||void 0===i||i.setValue(t.dish),null===(a=this.formGroup2.get("breakfastId"))||void 0===a||a.setValue(t.uid),this.isLoadBreakfast=!1;break;case"lunch":null===(l=this.formGroup2.get("lunch"))||void 0===l||l.setValue(t.dish),null===(m=this.formGroup2.get("lunchId"))||void 0===m||m.setValue(t.uid),this.isLoadLunch=!1;break;case"afternoonSnack":null===(_=this.formGroup2.get("afternoonSnack"))||void 0===_||_.setValue(t.dish),null===(T=this.formGroup2.get("afternoonSnackId"))||void 0===T||T.setValue(t.uid),this.isLoadAfternoonSnack=!1;break;case"dinner":null===(Z=this.formGroup2.get("dinner"))||void 0===Z||Z.setValue(t.dish),null===(N=this.formGroup2.get("dinnerId"))||void 0===N||N.setValue(t.uid),this.isLoadDinner=!1}}submitEditarMenu(){this.formGroup2.valid&&this.sweetAlert2Helper.question("\xbfEstas seguro?","\xbfEstas seguro de editar el registro?","Si, editar","No, cancelar",()=>{this.menuService.actualizarMenu(this.formGroup2.value,this.idSelected).subscribe({next:t=>{console.log(t),this.formGroup2.reset(),this.getData(),this.sweetAlert2Helper.success("Horario editado","El horario fue actualizado correctamente",()=>{},!1)},error:t=>{console.log(t)},complete:()=>{$("#modalEditarMenu").modal("hide")}})},!1)}submitCrearPlato(){this.formGroup3.valid&&this.sweetAlert2Helper.question("\xbfEstas seguro?","\xbfEstas seguro de crear el registro?","Si, crear","No, cancelar",()=>{var t,n;const i=null===(t=this.formGroup3.get("type"))||void 0===t?void 0:t.value,a=null===(n=this.formGroup3.get("dish"))||void 0===n?void 0:n.value;this.menuService.crearPlato({type:i,dish:a}).subscribe({next:m=>{console.log(m),this.formGroup3.reset(),this.getData(),this.sweetAlert2Helper.success("Plato creado","El plato fue creado correctamente",()=>{},!1),$("#modalCrearComidas").modal("hide")}})},!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.i),e.Y36(F),e.Y36(s.qu),e.Y36(A.r),e.Y36(U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-configuraciones"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Wt,5),e.Gf($t,5),e.Gf(jt,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.myNgForm=i.first),e.iGM(i=e.CRH())&&(n.myNgForm2=i.first),e.iGM(i=e.CRH())&&(n.myNgForm3=i.first)}},decls:184,vars:12,consts:[[1,"content"],[1,"row"],[1,"col-12"],[1,"col"],[1,"card","mb-3",2,"max-width","100%"],[1,"row","no-gutters"],[1,"col-md-4","bg-dark","img-horario"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","text-bold"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col-md-4","bg-dark","img-menues"],[1,"d-inline"],[1,"d-inline","float-right"],["data-toggle","modal","data-target","#modalCrearComidas",1,"btn","btn-primary","btn-sm"],["id","modalEditar","tabindex","-1","role","dialog","aria-labelledby","modalEditarLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","modalEditarLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["id","formCrearComensal","autocomplete","off",3,"formGroup","ngSubmit"],["myNgForm","ngForm"],[1,"form-group"],["for","horaInicio"],["type","time","id","horaInicio","name","horaInicio","required","","formControlName","horaInicio",1,"form-control"],["for","horaFin"],["type","time","id","horaFin","name","horaFin","formControlName","horaFin","required","",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],["id","modalEditarMenu","tabindex","-1","role","dialog","aria-labelledby","modalEditarMenuLabel","aria-hidden","true",1,"modal","fade"],["id","modalEditarMenuLabel",1,"modal-title"],["myNgForm2","ngForm"],["for","name"],["type","text","id","tipoMenu","formControlName","type","placeholder","Tipo de Menu",1,"form-control"],["for","recipient-name",1,"col-form-label"],["type","text","id","breakfastId","formControlName","breakfastId","hidden","",1,"form-control"],["type","text","id","breakfast","formControlName","breakfast",1,"form-control",3,"keyup","clickOutside"],["class","",4,"ngIf"],["type","text","id","lunchId","formControlName","lunchId","hidden","",1,"form-control"],["type","text","id","lunch","formControlName","lunch",1,"form-control",3,"keyup","clickOutside"],["type","text","id","afternoonSnackId","formControlName","afternoonSnackId","hidden","",1,"form-control"],["type","text","id","afternoonSnack","formControlName","afternoonSnack",1,"form-control",3,"keyup","clickOutside"],["type","text","id","dinnerId","formControlName","dinnerId","hidden","",1,"form-control"],["type","text","id","dinner","formControlName","dinner",1,"form-control",3,"keyup","clickOutside"],["type","number","id","quantity","formControlName","quantity","placeholder","quantity",1,"form-control"],["id","modalCrearComidas","tabindex","-1","role","dialog","aria-labelledby","modalCrearComidasLabel","aria-hidden","true",1,"modal","fade"],["id","modalCrearComidasLabel",1,"modal-title"],["id","","autocomplete","off",3,"formGroup","ngSubmit"],["myNgForm3","ngForm"],["formControlName","type",1,"form-control"],["value","breakfast"],["value","lunch"],["value","afternoonSnack"],["value","dinner"],["type","text","id","dish","formControlName","dish","placeholder","Plato",1,"form-control"],["scope","row"],[1,"text-capitalize"],["data-toggle","modal","data-target","#modalEditar",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],[1,"text-capitalize","text-center"],["data-toggle","modal","data-target","#modalEditarMenu",1,"btn","btn-primary","btn-sm",3,"click"],[1,""],[1,"bg-light","my-1","p-2","border-radius","dropdown-search","list-unstiled"],["class","p-1 item-hover",3,"click",4,"ngFor","ngForOf"],[1,"p-1","item-hover",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"hr"),e.TgZ(4,"div",1),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._UZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"h5",9),e._uU(12,"Horarios de Comida:"),e.qZA(),e.TgZ(13,"table",10),e.TgZ(14,"thead"),e.TgZ(15,"tr"),e.TgZ(16,"th",11),e._uU(17,"#"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Hora Inicio"),e.qZA(),e.TgZ(20,"th",11),e._uU(21,"Hora Final"),e.qZA(),e.TgZ(22,"th",11),e._uU(23,"Tipo"),e.qZA(),e.TgZ(24,"th",11),e._uU(25,"Editar"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,zt,12,4,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",1),e.TgZ(29,"div",3),e.TgZ(30,"div",4),e.TgZ(31,"div",5),e._UZ(32,"div",13),e.TgZ(33,"div",7),e.TgZ(34,"div",8),e.TgZ(35,"div",14),e.TgZ(36,"h5",9),e._uU(37,"Menues:"),e.qZA(),e.qZA(),e.TgZ(38,"div",15),e.TgZ(39,"button",16),e.TgZ(40,"span"),e._uU(41,"Crear Comidas"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"table",10),e.TgZ(43,"thead"),e.TgZ(44,"tr"),e.TgZ(45,"th",11),e._uU(46,"#"),e.qZA(),e.TgZ(47,"th",11),e._uU(48,"Tipo"),e.qZA(),e.TgZ(49,"th",11),e._uU(50,"Desayuno"),e.qZA(),e.TgZ(51,"th",11),e._uU(52,"Almuerzo"),e.qZA(),e.TgZ(53,"th",11),e._uU(54,"Merienda"),e.qZA(),e.TgZ(55,"th",11),e._uU(56,"Cena"),e.qZA(),e.TgZ(57,"th",11),e._uU(58,"Cantidad"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"tbody"),e.YNc(60,Bt,18,7,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",17),e.TgZ(62,"div",18),e.TgZ(63,"div",19),e.TgZ(64,"div",20),e.TgZ(65,"h5",21),e._uU(66,"Editar Horario"),e.qZA(),e.TgZ(67,"button",22),e.TgZ(68,"span",23),e._uU(69,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",24),e.TgZ(71,"form",25,26),e.NdJ("ngSubmit",function(){return n.submitted()}),e.TgZ(73,"div",27),e.TgZ(74,"label",28),e._uU(75,"Hora Inicio"),e.qZA(),e._UZ(76,"input",29),e.qZA(),e.TgZ(77,"div",27),e.TgZ(78,"label",30),e._uU(79,"Hora Fin"),e.qZA(),e._UZ(80,"input",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(81,"div",32),e.TgZ(82,"button",33),e._uU(83,"Cerrar"),e.qZA(),e.TgZ(84,"button",34),e.NdJ("click",function(){return n.submitted()}),e._uU(85,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",35),e.TgZ(87,"div",18),e.TgZ(88,"div",19),e.TgZ(89,"div",20),e.TgZ(90,"h5",36),e._uU(91,"Editar Menu"),e.qZA(),e.TgZ(92,"button",22),e.TgZ(93,"span",23),e._uU(94,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(95,"div",24),e.TgZ(96,"form",25,37),e.NdJ("ngSubmit",function(){return n.submitted()}),e.TgZ(98,"div",27),e.TgZ(99,"label",38),e._uU(100,"Tipo de Menu"),e.qZA(),e._UZ(101,"input",39),e.qZA(),e.TgZ(102,"div",27),e.TgZ(103,"div",1),e.TgZ(104,"div",2),e.TgZ(105,"label",40),e._uU(106,"Desayuno:"),e.qZA(),e.qZA(),e.TgZ(107,"div",2),e._UZ(108,"input",41),e.TgZ(109,"input",42),e.NdJ("keyup",function(a){return n.handlerChangeBreakfast(a)})("clickOutside",function(a){return n.outsideFilter(a,"breakfast")}),e.qZA(),e.qZA(),e.TgZ(110,"div",2),e.YNc(111,Xt,3,1,"div",43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(112,"div",27),e.TgZ(113,"div",1),e.TgZ(114,"div",2),e.TgZ(115,"label",40),e._uU(116,"Almuerzo:"),e.qZA(),e.qZA(),e.TgZ(117,"div",2),e._UZ(118,"input",44),e.TgZ(119,"input",45),e.NdJ("keyup",function(a){return n.handlerChangeLunch(a)})("clickOutside",function(a){return n.outsideFilter(a,"lunch")}),e.qZA(),e.qZA(),e.TgZ(120,"div",2),e.YNc(121,eo,3,1,"div",43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(122,"div",27),e.TgZ(123,"div",1),e.TgZ(124,"div",2),e.TgZ(125,"label",40),e._uU(126,"Merienda:"),e.qZA(),e.qZA(),e.TgZ(127,"div",2),e._UZ(128,"input",46),e.TgZ(129,"input",47),e.NdJ("keyup",function(a){return n.handlerChangeAfternoonSnack(a)})("clickOutside",function(a){return n.outsideFilter(a,"afternoonSnack")}),e.qZA(),e.qZA(),e.TgZ(130,"div",2),e.YNc(131,oo,3,1,"div",43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(132,"div",27),e.TgZ(133,"div",1),e.TgZ(134,"div",2),e.TgZ(135,"label",40),e._uU(136,"Cena:"),e.qZA(),e.qZA(),e.TgZ(137,"div",2),e._UZ(138,"input",48),e.TgZ(139,"input",49),e.NdJ("keyup",function(a){return n.handlerChangeDinner(a)})("clickOutside",function(a){return n.outsideFilter(a,"dinner")}),e.qZA(),e.qZA(),e.TgZ(140,"div",2),e.YNc(141,io,3,1,"div",43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(142,"div",27),e.TgZ(143,"label",38),e._uU(144,"Cantidad"),e.qZA(),e._UZ(145,"input",50),e.qZA(),e.qZA(),e.qZA(),e.TgZ(146,"div",32),e.TgZ(147,"button",33),e._uU(148,"Cerrar"),e.qZA(),e.TgZ(149,"button",34),e.NdJ("click",function(){return n.submitEditarMenu()}),e._uU(150,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(151,"div",51),e.TgZ(152,"div",18),e.TgZ(153,"div",19),e.TgZ(154,"div",20),e.TgZ(155,"h5",52),e._uU(156,"Crear Comidas"),e.qZA(),e.TgZ(157,"button",22),e.TgZ(158,"span",23),e._uU(159,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(160,"div",24),e.TgZ(161,"form",53,54),e.NdJ("ngSubmit",function(){return n.submitCrearPlato()}),e.TgZ(163,"div",27),e.TgZ(164,"label",38),e._uU(165,"Tipo de comida"),e.qZA(),e.TgZ(166,"select",55),e.TgZ(167,"option",56),e._uU(168,"Desayuno"),e.qZA(),e.TgZ(169,"option",57),e._uU(170,"Almuerzo"),e.qZA(),e.TgZ(171,"option",58),e._uU(172,"Merienda"),e.qZA(),e.TgZ(173,"option",59),e._uU(174,"Cena"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(175,"div",27),e.TgZ(176,"label",38),e._uU(177,"Plato"),e.qZA(),e._UZ(178,"input",60),e.qZA(),e.qZA(),e.qZA(),e.TgZ(179,"div",32),e.TgZ(180,"button",33),e._uU(181,"Cerrar"),e.qZA(),e.TgZ(182,"button",34),e.NdJ("click",function(){return n.submitCrearPlato()}),e._uU(183,"Guardar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(27),e.Q6J("ngForOf",n.Horarios),e.xp6(33),e.Q6J("ngForOf",n.Menues),e.xp6(11),e.Q6J("formGroup",n.formGroup),e.xp6(13),e.Q6J("disabled",!n.formGroup.valid),e.xp6(12),e.Q6J("formGroup",n.formGroup2),e.xp6(15),e.Q6J("ngIf",n.isLoadBreakfast),e.xp6(10),e.Q6J("ngIf",n.isLoadLunch),e.xp6(10),e.Q6J("ngIf",n.isLoadAfternoonSnack),e.xp6(10),e.Q6J("ngIf",n.isLoadDinner),e.xp6(8),e.Q6J("disabled",!n.formGroup2.valid),e.xp6(12),e.Q6J("formGroup",n.formGroup3),e.xp6(21),e.Q6J("disabled",!n.formGroup3.valid))},directives:[g.sg,s._Y,s.JL,s.sg,s.Fj,s.Q7,s.JJ,s.u,k._,g.O5,s.wV,s.EJ,s.YN,s.Kr],styles:[".img-horario[_ngcontent-%COMP%]{background-image:url(https://sumedico.blob.core.windows.net/images/2020/01/16/tiemposdecomidadiabetes.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.img-menues[_ngcontent-%COMP%]{background-image:url(https://res.cloudinary.com/hysmatafuegos/image/upload/v1661473755/cld-sample-4.jpg);background-size:cover;background-position:center;background-repeat:no-repeat}.list-unstiled[_ngcontent-%COMP%]{list-style:none}.border-radius[_ngcontent-%COMP%]{border-radius:.32em}.dropdown-search[_ngcontent-%COMP%]{z-index:1;position:absolute;border:solid #ced4da 1px;box-shadow:0 0 10px #0000001a}.item-hover[_ngcontent-%COMP%]{cursor:pointer;transition:all .1s ease-in-out;color:#646464}.item-hover[_ngcontent-%COMP%]:hover{background-color:#0169d9;border-radius:.32em;color:#fff}"]}),o})(),data:{titulo:"Configuraciones",content:"configuraciones"}},{path:"lista-comensales",component:(()=>{class o{constructor(t){this.registroService=t,this.Registros=[],this.rows=[],this.filteredData=[],this.columnsWithSearch=[],this.temp=[],this.cols=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.columnMode=c.hq}ngOnInit(){this.cargarRegistros()}cargarRegistros(){this.registroService.cargarAllRegistrosDiarios(!0).subscribe({next:t=>{this.Registros=t,console.log(this.Registros),setTimeout(()=>{this.temp=[...this.Registros],this.rows=this.Registros,this.filteredData=[...this.Registros],this.columnsWithSearch=Object.keys(this.Registros[0]),this.loadingIndicator=!1},500)}})}onDetailToggle(t){}toggleExpandRow(t){var n;null===(n=this.tables)||void 0===n||n.rowDetail.toggleExpandRow(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-lista-comensales"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ao,7),e.Gf(so,7),e.Gf(lo,5),e.Gf(c.nE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first)}},decls:38,vars:29,consts:[[1,"row"],[1,"col-12"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable"],["myTable","","tables",""],[3,"rowHeight","toggle"],["myDetailRow",""],["ngx-datatable-row-detail-template",""],["name","Index",3,"minWidth","width","maxWidth"],["ngx-datatable-cell-template",""],["name","date",3,"width","flexGrow"],["ngx-datatable-header-template",""],["name","usuario",3,"width","flexGrow"],["name","menu",3,"width","flexGrow"],["name","breakfast",3,"width","flexGrow"],["name","lunch",3,"width","flexGrow"],["name","afternoonSnack",3,"width","flexGrow"],["name","dinner",3,"width","flexGrow"],[1,"cursor",3,"click"],[1,"sm-textTable"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",1),e.TgZ(3,"ngx-datatable",2,3),e.TgZ(6,"ngx-datatable-row-detail",4,5),e.NdJ("toggle",function(a){return n.onDetailToggle(a)}),e.YNc(8,co,0,0,"ng-template",6),e.qZA(),e.TgZ(9,"ngx-datatable-column",7),e.YNc(10,mo,2,1,"ng-template",8),e.qZA(),e.TgZ(11,"ngx-datatable-column",9),e.YNc(12,uo,2,0,"ng-template",10),e.YNc(13,po,2,1,"ng-template",8),e.qZA(),e.TgZ(14,"ngx-datatable-column",11),e.YNc(15,_o,2,0,"ng-template",10),e.YNc(16,go,2,2,"ng-template",8),e.qZA(),e.TgZ(17,"ngx-datatable-column",11),e.YNc(18,ho,2,0,"ng-template",10),e.YNc(19,fo,2,2,"ng-template",8),e.qZA(),e.TgZ(20,"ngx-datatable-column",11),e.YNc(21,Zo,2,0,"ng-template",10),e.YNc(22,To,2,1,"ng-template",8),e.qZA(),e.TgZ(23,"ngx-datatable-column",12),e.YNc(24,Co,2,0,"ng-template",10),e.YNc(25,xo,2,1,"ng-template",8),e.qZA(),e.TgZ(26,"ngx-datatable-column",13),e.YNc(27,bo,2,0,"ng-template",10),e.YNc(28,Ao,2,1,"ng-template",8),e.qZA(),e.TgZ(29,"ngx-datatable-column",14),e.YNc(30,vo,2,0,"ng-template",10),e.YNc(31,qo,2,1,"ng-template",8),e.qZA(),e.TgZ(32,"ngx-datatable-column",15),e.YNc(33,wo,2,0,"ng-template",10),e.YNc(34,ko,2,1,"ng-template",8),e.qZA(),e.TgZ(35,"ngx-datatable-column",16),e.YNc(36,Uo,2,0,"ng-template",10),e.YNc(37,yo,2,1,"ng-template",8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("columnMode",n.columnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",10)("reorderable",!0),e.xp6(3),e.Q6J("rowHeight",120),e.xp6(3),e.Q6J("minWidth",60)("width",80)("maxWidth",50),e.xp6(2),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1))},directives:[c.nE,c.$7,c.AR,c.UC,c.vq,c.tk],styles:[""]}),o})(),data:{titulo:"Lista Comensales",content:"lista-comensales"}},{path:"totales",component:(()=>{class o{constructor(t,n){this.registroDiarioService=t,this.usuarioService=n,this.TotalesMeses=[],this.rows=[],this.filteredData=[],this.columnsWithSearch=[],this.temp=[],this.cols=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.columnMode=c.hq}ngOnDestroy(){}ngOnInit(){this.cargarTotalesMeses()}cargarTotalesMeses(){this.registroDiarioService.cargarTotalesPorMeses().subscribe({next:t=>{this.TotalesMeses=t,setTimeout(()=>{this.temp=[...this.TotalesMeses],this.rows=this.TotalesMeses,this.filteredData=[...this.TotalesMeses],this.columnsWithSearch=Object.keys(this.TotalesMeses[0]),this.loadingIndicator=!1},500)}})}onDetailToggle(t){}toggleExpandRow(t){var n;null===(n=this.tables)||void 0===n||n.rowDetail.toggleExpandRow(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x),e.Y36(h.i))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-totales"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Eo,7),e.Gf(Go,7),e.Gf(Fo,5),e.Gf(c.nE,5),e.Gf(Do,7)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first),e.iGM(i=e.CRH())&&(n.nameSummaryCell=i.first)}},decls:27,vars:24,consts:[[1,"row"],[1,"col-12","my-2"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable","summaryRow","summaryHeight"],["myTable","","tables",""],["nameSummaryCell",""],["name","Index",3,"minWidth","width","maxWidth"],["ngx-datatable-cell-template",""],["name","mes",3,"width","flexGrow"],["ngx-datatable-header-template",""],["name","breakfast",3,"width","flexGrow"],["name","lunch",3,"width","flexGrow"],["name","afternoonSnack",3,"width","flexGrow"],["name","dinner",3,"width","flexGrow"],["name","",3,"width","flexGrow"],[1,"name-container"],[1,"chip"],[1,"chip-text"],[1,"cursor",3,"click"],[1,"sm-textTable",3,"routerLink"],[1,"sm-textTable"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ngx-datatable",2,3),e.YNc(5,Mo,4,1,"ng-template",null,4,e.W1O),e.TgZ(7,"ngx-datatable-column",5),e.YNc(8,Jo,2,1,"ng-template",6),e.qZA(),e.TgZ(9,"ngx-datatable-column",7),e.YNc(10,So,2,0,"ng-template",8),e.YNc(11,Ho,2,4,"ng-template",6),e.qZA(),e.TgZ(12,"ngx-datatable-column",9),e.YNc(13,Yo,2,0,"ng-template",8),e.YNc(14,Lo,2,1,"ng-template",6),e.qZA(),e.TgZ(15,"ngx-datatable-column",10),e.YNc(16,Oo,2,0,"ng-template",8),e.YNc(17,Ro,2,1,"ng-template",6),e.qZA(),e.TgZ(18,"ngx-datatable-column",11),e.YNc(19,Qo,2,0,"ng-template",8),e.YNc(20,Po,2,1,"ng-template",6),e.qZA(),e.TgZ(21,"ngx-datatable-column",12),e.YNc(22,Wo,2,0,"ng-template",8),e.YNc(23,$o,2,1,"ng-template",6),e.qZA(),e.TgZ(24,"ngx-datatable-column",13),e.YNc(25,jo,2,0,"ng-template",8),e.YNc(26,zo,2,1,"ng-template",6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("columnMode",n.columnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",15)("reorderable",!0)("summaryRow",!0)("summaryHeight",55),e.xp6(5),e.Q6J("minWidth",60)("width",80)("maxWidth",50),e.xp6(2),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1))},directives:[c.nE,c.UC,c.vq,c.tk,p.yS],styles:[""]}),o})(),data:{titulo:"Totales",content:"totales"}},{path:"totales/:mes",component:(()=>{class o{constructor(t,n,i,a,l){this.router=t,this.route=n,this.usuarioService=i,this.registroDiarioService=a,this.SweetAlert2Helper=l,this.mes="",this.TotalesDias=[],this.rows=[],this.filteredData=[],this.columnsWithSearch=[],this.temp=[],this.cols=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.columnMode=c.hq}ngOnInit(){this.mes=this.route.snapshot.paramMap.get("mes"),console.log("mes-totales.component.ts",this.mes),this.cargarTotalesDias()}cargarTotalesDias(){this.registroDiarioService.cargarTotalesPorMes(this.mes).subscribe({next:t=>{this.TotalesDias=t,0==this.TotalesDias.length?this.SweetAlert2Helper.warning("No hay registros","No hay registros para este mes",()=>{this.router.navigate(["/dashboard/totales"])},!1):(console.log("mes-totales.component.ts",this.TotalesDias),setTimeout(()=>{this.temp=[...this.TotalesDias],this.rows=this.TotalesDias,this.filteredData=[...this.TotalesDias],this.columnsWithSearch=Object.keys(this.TotalesDias[0]),this.loadingIndicator=!1},500))},error:t=>{console.log(t)}})}onDetailToggle(t){}toggleExpandRow(t){var n;null===(n=this.tables)||void 0===n||n.rowDetail.toggleExpandRow(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(p.gz),e.Y36(h.i),e.Y36(x),e.Y36(A.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-mes-totales"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Vo,7),e.Gf(Xo,7),e.Gf(Ko,5),e.Gf(c.nE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first)}},decls:25,vars:24,consts:[[1,"row"],[1,"col-12","my-2"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable","summaryRow","summaryHeight"],["myTable","","tables",""],["name","Index",3,"minWidth","width","maxWidth"],["ngx-datatable-cell-template",""],["name","date",3,"width","flexGrow"],["ngx-datatable-header-template",""],["name","breakfast",3,"width","flexGrow"],["name","lunch",3,"width","flexGrow"],["name","afternoonSnack",3,"width","flexGrow"],["name","dinner",3,"width","flexGrow"],["name","",3,"width","flexGrow"],[1,"cursor",3,"click"],[1,"sm-textTable",3,"routerLink"],[1,"sm-textTable"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"ngx-datatable",2,3),e.TgZ(5,"ngx-datatable-column",4),e.YNc(6,en,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"ngx-datatable-column",6),e.YNc(8,tn,2,0,"ng-template",7),e.YNc(9,nn,2,4,"ng-template",5),e.qZA(),e.TgZ(10,"ngx-datatable-column",8),e.YNc(11,rn,2,0,"ng-template",7),e.YNc(12,an,2,1,"ng-template",5),e.qZA(),e.TgZ(13,"ngx-datatable-column",9),e.YNc(14,sn,2,0,"ng-template",7),e.YNc(15,ln,2,1,"ng-template",5),e.qZA(),e.TgZ(16,"ngx-datatable-column",10),e.YNc(17,cn,2,0,"ng-template",7),e.YNc(18,mn,2,1,"ng-template",5),e.qZA(),e.TgZ(19,"ngx-datatable-column",11),e.YNc(20,un,2,0,"ng-template",7),e.YNc(21,pn,2,1,"ng-template",5),e.qZA(),e.TgZ(22,"ngx-datatable-column",12),e.YNc(23,dn,2,0,"ng-template",7),e.YNc(24,_n,2,1,"ng-template",5),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("columnMode",n.columnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",10)("reorderable",!0)("summaryRow",!0)("summaryHeight",55),e.xp6(3),e.Q6J("minWidth",60)("width",80)("maxWidth",50),e.xp6(2),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1))},directives:[c.nE,c.UC,c.vq,c.tk,p.yS],styles:[""]}),o})(),data:{titulo:"Mes Totales",content:"mes-totales"}},{path:"totales/:mes/:dia",component:(()=>{class o{constructor(t,n,i,a,l,m){this.router=t,this.route=n,this.empresaService=i,this.registroDiarioService=a,this.usuarioService=l,this.sweetAlert2Helper=m,this.Empresas=[],this.RegistrosByDate=[],this.mes="",this.dia="",this.roleUser=this.usuarioService.role,this.usuario=this.usuarioService.usuario,this.rows=[],this.filteredData=[],this.columnsWithSearch=[],this.temp=[],this.cols=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.columnMode=c.hq}ngOnInit(){this.mes=this.route.snapshot.paramMap.get("mes"),this.dia=this.route.snapshot.paramMap.get("dia"),console.log(this.dia,this.mes),this.cargarRegistrosByDate()}cargarEmpresas(){this.empresaService.cargarEmpresas().subscribe({next:t=>{this.Empresas=t,setTimeout(()=>{this.temp=[...this.Empresas],this.rows=this.Empresas,this.filteredData=[...this.Empresas],this.columnsWithSearch=Object.keys(this.Empresas[0]),this.loadingIndicator=!1},500)},error:t=>{console.log(t)}})}cargarRegistrosByDate(){this.registroDiarioService.cargarRegistrosPorFechaCompleta(this.mes,this.dia).subscribe({next:t=>{this.RegistrosByDate=t,setTimeout(()=>{this.temp=[...this.RegistrosByDate],this.rows=this.RegistrosByDate,this.filteredData=[...this.RegistrosByDate],this.columnsWithSearch=Object.keys(this.RegistrosByDate[0]),this.loadingIndicator=!1},500)},error:t=>{console.log(t)}})}visarRegistro(t){var n;console.log(t);const a={empresa:t.uid,usuario:this.usuario.uid,fechaRegistro:`${this.dia}/${null===(n=[{mes:"01",nombre:"enero"},{mes:"02",nombre:"febrero"},{mes:"03",nombre:"marzo"},{mes:"04",nombre:"abril"},{mes:"05",nombre:"mayo"},{mes:"06",nombre:"junio"},{mes:"07",nombre:"julio"},{mes:"08",nombre:"agosto"},{mes:"09",nombre:"septiembre"},{mes:"10",nombre:"octubre"},{mes:"11",nombre:"noviembre"},{mes:"12",nombre:"diciembre"}].find(l=>l.nombre===this.mes))||void 0===n?void 0:n.mes}/${(new Date).getFullYear()}`};this.registroDiarioService.crearVisado(a).subscribe({next:l=>{this.sweetAlert2Helper.success("Registro visado correctamente","El registro se ha visado correctamente",()=>{},!1),this.cargarRegistrosByDate()}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(p.gz),e.Y36(b),e.Y36(x),e.Y36(h.i),e.Y36(A.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-empresas-totales"]],viewQuery:function(t,n){if(1&t&&(e.Gf(hn,7),e.Gf(fn,7),e.Gf(Zn,5),e.Gf(c.nE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first)}},decls:29,vars:21,consts:[[1,"row"],[1,"col-12"],[1,"text-center","font-weight-lighter"],[1,"text-capitalize"],[1,"col-12","my-2"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable"],["myTable","","tables",""],["nameSummaryCell",""],["name","Index",3,"minWidth","width","maxWidth"],["ngx-datatable-cell-template",""],["name","name",3,"width","flexGrow"],["ngx-datatable-header-template",""],["name","description",3,"width","flexGrow"],["name","",3,"width","flexGrow"],["name","cuit",3,"width","flexGrow"],["name","visado",3,"width","flexGrow",4,"ngIf"],[1,"name-container"],[1,"chip"],[1,"chip-text"],[1,"cursor",3,"click"],[1,"sm-textTable",3,"routerLink"],[1,"sm-textTable"],["name","visado",3,"width","flexGrow"],[4,"ngIf"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",0),e.TgZ(3,"div",1),e.TgZ(4,"h3",2),e._uU(5),e.TgZ(6,"span",3),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.TgZ(9,"ngx-datatable",5,6),e.YNc(12,Tn,4,1,"ng-template",null,7,e.W1O),e.TgZ(14,"ngx-datatable-column",8),e.YNc(15,Cn,2,1,"ng-template",9),e.qZA(),e.TgZ(16,"ngx-datatable-column",10),e.YNc(17,xn,2,0,"ng-template",11),e.YNc(18,An,2,4,"ng-template",9),e.qZA(),e.TgZ(19,"ngx-datatable-column",12),e.YNc(20,vn,2,0,"ng-template",11),e.YNc(21,qn,2,1,"ng-template",9),e.qZA(),e.TgZ(22,"ngx-datatable-column",13),e.YNc(23,wn,2,0,"ng-template",11),e.YNc(24,kn,2,2,"ng-template",9),e.qZA(),e.TgZ(25,"ngx-datatable-column",14),e.YNc(26,Un,2,0,"ng-template",11),e.YNc(27,yn,2,1,"ng-template",9),e.qZA(),e.YNc(28,Dn,3,2,"ngx-datatable-column",15),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij("Fecha: ",n.dia," de "),e.xp6(2),e.Oqu(n.mes),e.xp6(2),e.Q6J("columnMode",n.columnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",15)("reorderable",!0),e.xp6(5),e.Q6J("minWidth",60)("width",80)("maxWidth",50),e.xp6(2),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("ngIf","supervisor"==n.roleUser))},directives:[c.nE,c.UC,c.vq,c.tk,g.O5,p.yS],styles:[""]}),o})(),data:{titulo:"Empresas Totales",content:"empresas-totales"}},{path:"totales/:mes/:dia/:empresa",component:(()=>{class o{constructor(t,n,i,a){this.registroDiarioService=t,this.route=n,this.router=i,this.sweetAlert2Helper=a,this.RegistrosEmpresa=[],this.mes="",this.dia="",this.empresa="",this.rows=[],this.filteredData=[],this.columnsWithSearch=[],this.temp=[],this.cols=[],this.expanded={},this.loadingIndicator=!0,this.reorderable=!0,this.columnMode=c.hq}ngOnInit(){this.mes=this.route.snapshot.paramMap.get("mes"),this.dia=this.route.snapshot.paramMap.get("dia"),this.empresa=this.route.snapshot.paramMap.get("empresa"),this.cargarRegistrosEmpresaByDate()}cargarRegistrosEmpresaByDate(){this.registroDiarioService.cargarRegistrosDiariosEmpresaPorFecha(this.mes,this.dia,this.empresa).subscribe({next:t=>{this.RegistrosEmpresa=t,0==this.RegistrosEmpresa.length?this.sweetAlert2Helper.warning("No hay registros","No hay registros para este dia en esta empresa",()=>{this.router.navigate([`/dashboard/totales/${this.mes}`])},!1):setTimeout(()=>{this.temp=[...this.RegistrosEmpresa],this.rows=this.RegistrosEmpresa,this.filteredData=[...this.RegistrosEmpresa],this.columnsWithSearch=Object.keys(this.RegistrosEmpresa[0]),this.loadingIndicator=!1},500)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x),e.Y36(p.gz),e.Y36(p.F0),e.Y36(A.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dias-totales"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Jn,7),e.Gf(Sn,7),e.Gf(In,5),e.Gf(c.nE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.editTmpl=i.first),e.iGM(i=e.CRH())&&(n.hdrTpl=i.first),e.iGM(i=e.CRH())&&(n.table=i.first),e.iGM(i=e.CRH())&&(n.tables=i.first)}},decls:37,vars:25,consts:[[1,"row"],[1,"col-12"],[1,"text-center","font-weight-lighter"],[1,"text-capitalize"],[1,"col-12","my-2"],["rowHeight","auto",1,"material","expandable",3,"columnMode","rows","loadingIndicator","headerHeight","footerHeight","limit","reorderable"],["myTable","","tables",""],["nameSummaryCell",""],["name","Index",3,"minWidth","width","maxWidth"],["ngx-datatable-cell-template",""],["name","time",3,"width","flexGrow"],["ngx-datatable-header-template",""],["name","usuario",3,"width","flexGrow"],["name","breakfast",3,"width","flexGrow"],["name","lunch",3,"width","flexGrow"],["name","afternoonSnack",3,"width","flexGrow"],["name","dinner",3,"width","flexGrow"],[1,"name-container"],[1,"chip"],[1,"chip-text"],[1,"cursor",3,"click"],[1,"sm-textTable"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",0),e.TgZ(3,"div",1),e.TgZ(4,"h3",2),e._uU(5,"Empresa: "),e.TgZ(6,"span",3),e._uU(7),e.qZA(),e._uU(8),e.TgZ(9,"span",3),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",4),e.TgZ(12,"ngx-datatable",5,6),e.YNc(15,Hn,4,1,"ng-template",null,7,e.W1O),e.TgZ(17,"ngx-datatable-column",8),e.YNc(18,Yn,2,1,"ng-template",9),e.qZA(),e.TgZ(19,"ngx-datatable-column",10),e.YNc(20,Ln,2,0,"ng-template",11),e.YNc(21,On,2,1,"ng-template",9),e.qZA(),e.TgZ(22,"ngx-datatable-column",12),e.YNc(23,Rn,2,0,"ng-template",11),e.YNc(24,Qn,2,2,"ng-template",9),e.qZA(),e.TgZ(25,"ngx-datatable-column",13),e.YNc(26,Pn,2,0,"ng-template",11),e.YNc(27,Wn,2,1,"ng-template",9),e.qZA(),e.TgZ(28,"ngx-datatable-column",14),e.YNc(29,$n,2,0,"ng-template",11),e.YNc(30,jn,2,1,"ng-template",9),e.qZA(),e.TgZ(31,"ngx-datatable-column",15),e.YNc(32,zn,2,0,"ng-template",11),e.YNc(33,Bn,2,1,"ng-template",9),e.qZA(),e.TgZ(34,"ngx-datatable-column",16),e.YNc(35,Vn,2,0,"ng-template",11),e.YNc(36,Xn,2,1,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Oqu(n.empresa),e.xp6(1),e.hij(", Fecha: ",n.dia," de "),e.xp6(2),e.Oqu(n.mes),e.xp6(2),e.Q6J("columnMode",n.columnMode.force)("rows",n.rows)("loadingIndicator",n.loadingIndicator)("headerHeight",50)("footerHeight",50)("limit",15)("reorderable",!0),e.xp6(5),e.Q6J("minWidth",60)("width",80)("maxWidth",50),e.xp6(2),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1),e.xp6(3),e.Q6J("width",100)("flexGrow",1))},directives:[c.nE,c.UC,c.vq,c.tk],styles:[""]}),o})(),data:{titulo:"Dias Totales",content:"dias-totales"}}];let ei=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.ez,p.Bz.forChild(Kn)],p.Bz]}),o})()}}]);